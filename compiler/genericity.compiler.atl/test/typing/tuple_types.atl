-- @path FD=/genericity.benchmarks/components/flowdiagrams/metamodels/flow_concept.ecore
-- @path PN=/genericity.benchmarks/components/flowdiagrams/metamodels/petri_nets.ecore

module flow2pn;
create OUT : PN from IN : FD;

helper context FD!Node def: collectionOfTuples : Sequence(TupleType(input : FD!Node, output : FD!Node))  =
	FD!FlowEdge.allInstances()->collect(e |
		Tuple { input = e.in, output = e.out }	
	);
	
helper context FD!Node def: useTuples : Sequence(TupleType(input : FD!Node, output : FD!Node))  =
	self.collectionOfTuples->select(t | t.input = self );
	

