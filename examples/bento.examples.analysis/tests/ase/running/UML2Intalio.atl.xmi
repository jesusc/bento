<?xml version="1.0" encoding="ISO-8859-1"?>
<xmi:XMI xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:atl="http://www.eclipse.org/gmt/2005/ATL" xmlns:ocl="http://www.eclipse.org/gmt/2005/OCL">
  <atl:Module location="10:1-76:2" name="UML2Intalio">
    <commentsBefore>-- @path UML=/bento.examples.analysis/tests/ase/running/UML2_3_0_0.ecore</commentsBefore>
    <commentsBefore>-- @path Intalio=/bento.examples.analysis/tests/ase/running/bpmn.ecore</commentsBefore>
    <commentsBefore>-- Error: potentially invalid target in binding</commentsBefore>
    <commentsBefore>-- Error: missing rule for object flow</commentsBefore>
    <commentsBefore>-- Error: Sequence(Sequence) in binding assignment</commentsBefore>
    <commentsAfter>-- Lanes are not transformed</commentsAfter>
    <commentsAfter>-- Unused rule</commentsAfter>
    <commentsAfter>--rule partition2pool {</commentsAfter>
    <commentsAfter>--	from p: UML!ActivityPartition (</commentsAfter>
    <commentsAfter>--		p.superPartition &lt;> OclUndefined</commentsAfter>
    <commentsAfter>--	)</commentsAfter>
    <commentsAfter>--	to pool : Intalio!Pool (</commentsAfter>
    <commentsAfter>--		name &lt;- p.name,</commentsAfter>
    <commentsAfter>--		sequenceEdges &lt;- p.edge,</commentsAfter>
    <commentsAfter>--		vertices      &lt;- p.node</commentsAfter>
    <commentsAfter>--	)</commentsAfter>
    <commentsAfter>--}</commentsAfter>
    <inModels location="11:27-11:35" name="IN" metamodel="/2"/>
    <outModels location="11:8-11:21" name="OUT" metamodel="/1"/>
    <elements xsi:type="atl:Helper" location="13:1-14:58">
      <definition location="13:8-14:57">
        <feature xsi:type="ocl:Attribute" location="13:35-14:57" name="allPartitions">
          <initExpression xsi:type="ocl:CollectionOperationCallExp" location="14:2-14:57" operationName="flatten">
            <source xsi:type="ocl:IteratorExp" location="14:2-14:46" name="collect">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="14:2-14:16" name="partition">
                <source xsi:type="ocl:VariableExp" location="14:2-14:6" referredVariable="/4"/>
              </source>
              <body xsi:type="ocl:NavigationOrAttributeCallExp" location="14:30-14:45" name="allPartitions">
                <source xsi:type="ocl:VariableExp" location="14:30-14:31" referredVariable="/0/@elements.0/@definition/@feature/@initExpression/@source/@iterators.0"/>
              </body>
              <iterators location="14:26-14:27" varName="p" variableExp="/0/@elements.0/@definition/@feature/@initExpression/@source/@body/@source"/>
            </source>
          </initExpression>
          <type xsi:type="ocl:OclAnyType" location="13:51-13:57"/>
        </feature>
        <context_ location="13:8-13:28">
          <context_ xsi:type="ocl:OclModelElement" location="13:16-13:28" name="Activity" model="/3"/>
        </context_>
      </definition>
    </elements>
    <elements xsi:type="atl:Helper" location="16:1-17:60">
      <commentsAfter>-- rules</commentsAfter>
      <definition location="16:8-17:59">
        <feature xsi:type="ocl:Attribute" location="16:44-17:59" name="allPartitions">
          <initExpression xsi:type="ocl:CollectionOperationCallExp" location="17:2-17:59" operationName="flatten">
            <source xsi:type="ocl:IteratorExp" location="17:2-17:48" name="collect">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="17:2-17:19" name="subpartition">
                <source xsi:type="ocl:VariableExp" location="17:2-17:6" referredVariable="/7"/>
              </source>
              <body xsi:type="ocl:NavigationOrAttributeCallExp" location="17:33-17:47" name="allPartition">
                <source xsi:type="ocl:VariableExp" location="17:33-17:34" referredVariable="/0/@elements.1/@definition/@feature/@initExpression/@source/@iterators.0"/>
              </body>
              <iterators location="17:29-17:30" varName="p" variableExp="/0/@elements.1/@definition/@feature/@initExpression/@source/@body/@source"/>
            </source>
          </initExpression>
          <type xsi:type="ocl:SequenceType" location="16:61-16:92">
            <elementType xsi:type="ocl:OclModelElement" location="16:70-16:91" name="ActivityPartition" model="/6"/>
          </type>
        </feature>
        <context_ location="16:8-16:37">
          <context_ xsi:type="ocl:OclModelElement" location="16:16-16:37" name="ActivityPartition" model="/5"/>
        </context_>
      </definition>
    </elements>
    <elements xsi:type="atl:MatchedRule" location="21:1-36:2" name="activity2diagram">
      <commentsBefore>-- rules</commentsBefore>
      <outPattern location="23:2-35:4">
        <elements xsi:type="atl:SimpleOutPatternElement" location="23:7-26:4" varName="m">
          <type xsi:type="ocl:OclModelElement" location="23:11-23:30" name="BpmnDiagram" model="/9"/>
          <bindings location="24:4-24:18" propertyName="name">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="24:12-24:18" name="name">
              <source xsi:type="ocl:VariableExp" location="24:12-24:13" referredVariable="/0/@elements.2/@inPattern/@elements.0"/>
            </value>
          </bindings>
          <bindings location="25:4-25:17" propertyName="pools">
            <value xsi:type="ocl:VariableExp" location="25:13-25:17" referredVariable="/0/@elements.2/@outPattern/@elements.1"/>
          </bindings>
        </elements>
        <elements xsi:type="atl:SimpleOutPatternElement" location="27:3-35:4" varName="pool" variableExp="/0/@elements.2/@outPattern/@elements.0/@bindings.1/@value">
          <type xsi:type="ocl:OclModelElement" location="27:10-27:22" name="Pool" model="/10"/>
          <bindings location="28:4-28:58" propertyName="name">
            <value xsi:type="ocl:OperatorCallExp" location="28:12-28:58" operationName="+">
              <source xsi:type="ocl:OperatorCallExp" location="28:12-28:46" operationName="+">
                <source xsi:type="ocl:StringExp" location="28:12-28:20" stringSymbol="main ("/>
                <arguments xsi:type="ocl:CollectionOperationCallExp" location="28:23-28:46" operationName="size">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="28:23-28:38" name="allPartitions">
                    <source xsi:type="ocl:VariableExp" location="28:23-28:24" referredVariable="/0/@elements.2/@inPattern/@elements.0"/>
                  </source>
                </arguments>
              </source>
              <arguments xsi:type="ocl:StringExp" location="28:49-28:58" stringSymbol=" lanes)"/>
            </value>
          </bindings>
          <bindings location="29:4-29:28" propertyName="lanes">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="29:13-29:28" name="allPartitions">
              <source xsi:type="ocl:VariableExp" location="29:13-29:14" referredVariable="/0/@elements.2/@inPattern/@elements.0"/>
            </value>
          </bindings>
          <bindings location="30:4-33:112" propertyName="sequenceEdges">
            <value xsi:type="ocl:IteratorExp" location="30:21-33:112" name="collect">
              <source xsi:type="ocl:IteratorExp" location="30:21-30:71" name="select">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="30:21-30:27" name="edge">
                  <source xsi:type="ocl:VariableExp" location="30:21-30:22" referredVariable="/0/@elements.2/@inPattern/@elements.0"/>
                </source>
                <body xsi:type="ocl:OperationCallExp" location="30:40-30:70" operationName="oclIsKindOf">
                  <source xsi:type="ocl:VariableExp" location="30:40-30:41" referredVariable="/0/@elements.2/@outPattern/@elements.1/@bindings.2/@value/@source/@iterators.0"/>
                  <arguments xsi:type="ocl:OclModelElement" location="30:54-30:69" name="ControlFlow" model="/11"/>
                </body>
                <iterators location="30:36-30:37" varName="e" variableExp="/0/@elements.2/@outPattern/@elements.1/@bindings.2/@value/@source/@body/@source"/>
              </source>
              <body xsi:type="ocl:IfExp" location="33:17-33:109">
                <thenExpression xsi:type="ocl:OperationCallExp" location="33:63-33:96" operationName="controlflow_initial">
                  <source xsi:type="ocl:VariableExp" location="33:63-33:73" referredVariable="/13"/>
                  <arguments xsi:type="ocl:VariableExp" location="33:94-33:95" referredVariable="/0/@elements.2/@outPattern/@elements.1/@bindings.2/@value/@iterators.0"/>
                </thenExpression>
                <condition xsi:type="ocl:OperationCallExp" location="33:20-33:57" operationName="oclIsKindOf">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="33:20-33:28" name="source">
                    <source xsi:type="ocl:VariableExp" location="33:20-33:21" referredVariable="/0/@elements.2/@outPattern/@elements.1/@bindings.2/@value/@iterators.0"/>
                  </source>
                  <arguments xsi:type="ocl:OclModelElement" location="33:41-33:56" name="InitialNode" model="/12"/>
                </condition>
                <elseExpression xsi:type="ocl:VariableExp" location="33:102-33:103" referredVariable="/0/@elements.2/@outPattern/@elements.1/@bindings.2/@value/@iterators.0"/>
              </body>
              <iterators location="33:13-33:14" varName="e" variableExp="/0/@elements.2/@outPattern/@elements.1/@bindings.2/@value/@body/@condition/@source/@source /0/@elements.2/@outPattern/@elements.1/@bindings.2/@value/@body/@thenExpression/@arguments.0 /0/@elements.2/@outPattern/@elements.1/@bindings.2/@value/@body/@elseExpression"/>
            </value>
          </bindings>
          <bindings location="34:5-34:50" propertyName="vertices">
            <value xsi:type="ocl:IteratorExp" location="34:18-34:50" name="collect">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="34:18-34:29" name="partition">
                <source xsi:type="ocl:VariableExp" location="34:18-34:19" referredVariable="/0/@elements.2/@inPattern/@elements.0"/>
              </source>
              <body xsi:type="ocl:NavigationOrAttributeCallExp" location="34:43-34:49" name="node">
                <source xsi:type="ocl:VariableExp" location="34:43-34:44" referredVariable="/0/@elements.2/@outPattern/@elements.1/@bindings.3/@value/@iterators.0"/>
              </body>
              <iterators location="34:39-34:40" varName="p" variableExp="/0/@elements.2/@outPattern/@elements.1/@bindings.3/@value/@body/@source"/>
            </value>
          </bindings>
        </elements>
      </outPattern>
      <inPattern location="22:2-22:23">
        <elements xsi:type="atl:SimpleInPatternElement" location="22:7-22:23" varName="a" variableExp="/0/@elements.2/@outPattern/@elements.0/@bindings.0/@value/@source /0/@elements.2/@outPattern/@elements.1/@bindings.0/@value/@source/@arguments.0/@source/@source /0/@elements.2/@outPattern/@elements.1/@bindings.1/@value/@source /0/@elements.2/@outPattern/@elements.1/@bindings.2/@value/@source/@source/@source /0/@elements.2/@outPattern/@elements.1/@bindings.3/@value/@source/@source">
          <type xsi:type="ocl:OclModelElement" location="22:11-22:23" name="Activity" model="/8"/>
        </elements>
      </inPattern>
    </elements>
    <elements xsi:type="atl:LazyMatchedRule" location="38:1-47:2" name="controlflow_initial">
      <outPattern location="40:2-46:3">
        <elements xsi:type="atl:SimpleOutPatternElement" location="40:9-46:3" varName="b">
          <type xsi:type="ocl:OclModelElement" location="40:13-40:33" name="SequenceEdge" model="/15"/>
          <bindings location="42:3-42:72" propertyName="name">
            <commentsBefore>-- name &lt;- 'cflow_initial',</commentsBefore>
            <value xsi:type="ocl:IfExp" location="42:11-42:72">
              <thenExpression xsi:type="ocl:StringExp" location="42:44-42:53" stringSymbol="initial"/>
              <condition xsi:type="ocl:OperationCallExp" location="42:14-42:38" operationName="oclIsUndefined">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="42:14-42:21" name="name">
                  <source xsi:type="ocl:VariableExp" location="42:14-42:16" referredVariable="/0/@elements.3/@inPattern/@elements.0"/>
                </source>
              </condition>
              <elseExpression xsi:type="ocl:NavigationOrAttributeCallExp" location="42:59-42:66" name="Name">
                <source xsi:type="ocl:VariableExp" location="42:59-42:61" referredVariable="/0/@elements.3/@inPattern/@elements.0"/>
              </elseExpression>
            </value>
          </bindings>
          <bindings location="44:3-44:22" propertyName="source">
            <commentsBefore>-- source &lt;- if cf.source.oclIsKindOf(UML!InitialNode) then cf.source else OclUndefined endif,</commentsBefore>
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="44:13-44:22" name="source">
              <source xsi:type="ocl:VariableExp" location="44:13-44:15" referredVariable="/0/@elements.3/@inPattern/@elements.0"/>
            </value>
          </bindings>
          <bindings location="45:3-45:22" propertyName="target">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="45:13-45:22" name="target">
              <source xsi:type="ocl:VariableExp" location="45:13-45:15" referredVariable="/0/@elements.3/@inPattern/@elements.0"/>
            </value>
          </bindings>
        </elements>
      </outPattern>
      <inPattern location="39:2-39:28">
        <elements xsi:type="atl:SimpleInPatternElement" location="39:8-39:28" varName="cf" variableExp="/0/@elements.3/@outPattern/@elements.0/@bindings.0/@value/@condition/@source/@source /0/@elements.3/@outPattern/@elements.0/@bindings.0/@value/@elseExpression/@source /0/@elements.3/@outPattern/@elements.0/@bindings.1/@value/@source /0/@elements.3/@outPattern/@elements.0/@bindings.2/@value/@source">
          <type xsi:type="ocl:OclModelElement" location="39:13-39:28" name="ControlFlow" model="/14"/>
        </elements>
      </inPattern>
    </elements>
    <elements xsi:type="atl:MatchedRule" location="49:1-61:2" name="initialnode">
      <outPattern location="57:2-60:3">
        <elements xsi:type="atl:SimpleOutPatternElement" location="57:5-60:3" varName="activity">
          <type xsi:type="ocl:OclModelElement" location="57:16-57:32" name="Activity" model="/17"/>
          <bindings location="58:3-58:35" propertyName="activityType">
            <commentsAfter>--,</commentsAfter>
            <commentsAfter>-- name &lt;- initial.name.concat('-initial')</commentsAfter>
            <value xsi:type="ocl:EnumLiteralExp" location="58:19-58:35" name="EventStartEmpty">
              <commentsAfter>--,</commentsAfter>
              <commentsAfter>-- name &lt;- initial.name.concat('-initial')</commentsAfter>
            </value>
          </bindings>
        </elements>
      </outPattern>
      <inPattern location="50:2-55:4">
        <elements xsi:type="atl:SimpleInPatternElement" location="50:7-50:32" varName="initial" variableExp="/0/@elements.4/@inPattern/@filter/@source/@source">
          <type xsi:type="ocl:OclModelElement" location="50:17-50:32" name="InitialNode" model="/16"/>
        </elements>
        <filter xsi:type="ocl:CollectionOperationCallExp" location="51:4-51:31" operationName="isEmpty">
          <commentsAfter>--not initial.incoming->exists(edge | </commentsAfter>
          <commentsAfter>--	edge.source.oclIsKindOf(UML!AcceptEventAction)</commentsAfter>
          <commentsAfter>--)</commentsAfter>
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="51:4-51:20" name="incoming">
            <source xsi:type="ocl:VariableExp" location="51:4-51:11" referredVariable="/0/@elements.4/@inPattern/@elements.0"/>
          </source>
        </filter>
      </inPattern>
    </elements>
    <elements xsi:type="atl:MatchedRule" location="63:1-71:2" name="initialnode_timer">
      <outPattern location="68:2-70:3">
        <elements xsi:type="atl:SimpleOutPatternElement" location="68:5-70:3" varName="activity">
          <type xsi:type="ocl:OclModelElement" location="68:16-68:32" name="Activity" model="/20"/>
          <bindings location="69:3-69:37" propertyName="activityType">
            <value xsi:type="ocl:EnumLiteralExp" location="69:19-69:37" name="EventStartMessage"/>
          </bindings>
        </elements>
      </outPattern>
      <inPattern location="64:2-67:6">
        <elements xsi:type="atl:SimpleInPatternElement" location="64:7-64:32" varName="initial" variableExp="/0/@elements.5/@inPattern/@filter/@source/@source">
          <type xsi:type="ocl:OclModelElement" location="64:17-64:32" name="InitialNode" model="/18"/>
        </elements>
        <filter xsi:type="ocl:IteratorExp" location="65:3-67:4" name="exists">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="65:3-65:19" name="incoming">
            <source xsi:type="ocl:VariableExp" location="65:3-65:10" referredVariable="/0/@elements.5/@inPattern/@elements.0"/>
          </source>
          <body xsi:type="ocl:OperationCallExp" location="66:4-66:50" operationName="oclIsKindOf">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="66:4-66:15" name="source">
              <source xsi:type="ocl:VariableExp" location="66:4-66:8" referredVariable="/0/@elements.5/@inPattern/@filter/@iterators.0"/>
            </source>
            <arguments xsi:type="ocl:OclModelElement" location="66:28-66:49" name="AcceptEventAction" model="/19"/>
          </body>
          <iterators location="65:28-65:32" varName="edge" variableExp="/0/@elements.5/@inPattern/@filter/@body/@source/@source"/>
        </filter>
      </inPattern>
    </elements>
    <elements xsi:type="atl:MatchedRule" location="73:1-76:2" name="objectnode">
      <commentsAfter>-- Lanes are not transformed</commentsAfter>
      <commentsAfter>-- Unused rule</commentsAfter>
      <commentsAfter>--rule partition2pool {</commentsAfter>
      <commentsAfter>--	from p: UML!ActivityPartition (</commentsAfter>
      <commentsAfter>--		p.superPartition &lt;> OclUndefined</commentsAfter>
      <commentsAfter>--	)</commentsAfter>
      <commentsAfter>--	to pool : Intalio!Pool (</commentsAfter>
      <commentsAfter>--		name &lt;- p.name,</commentsAfter>
      <commentsAfter>--		sequenceEdges &lt;- p.edge,</commentsAfter>
      <commentsAfter>--		vertices      &lt;- p.node</commentsAfter>
      <commentsAfter>--	)</commentsAfter>
      <commentsAfter>--}</commentsAfter>
      <outPattern location="75:2-75:29">
        <elements xsi:type="atl:SimpleOutPatternElement" location="75:7-75:29" varName="art">
          <type xsi:type="ocl:OclModelElement" location="75:13-75:29" name="Artifact" model="/22"/>
        </elements>
      </outPattern>
      <inPattern location="74:2-74:27">
        <elements xsi:type="atl:SimpleInPatternElement" location="74:7-74:27" varName="obj">
          <type xsi:type="ocl:OclModelElement" location="74:13-74:27" name="ObjectNode" model="/21"/>
        </elements>
      </inPattern>
    </elements>
  </atl:Module>
  <ocl:OclModel location="11:14-11:21" name="Intalio" model="/0/@outModels.0"/>
  <ocl:OclModel location="11:32-11:35" name="UML" model="/0/@inModels.0"/>
  <ocl:OclModel location="13:16-13:19" name="UML" elements="/0/@elements.0/@definition/@context_/@context_"/>
  <ocl:VariableDeclaration location="14:2-14:6" varName="self" variableExp="/0/@elements.0/@definition/@feature/@initExpression/@source/@source/@source"/>
  <ocl:OclModel location="16:16-16:19" name="UML" elements="/0/@elements.1/@definition/@context_/@context_"/>
  <ocl:OclModel location="16:70-16:73" name="UML" elements="/0/@elements.1/@definition/@feature/@type/@elementType"/>
  <ocl:VariableDeclaration location="17:2-17:6" varName="self" variableExp="/0/@elements.1/@definition/@feature/@initExpression/@source/@source/@source"/>
  <ocl:OclModel location="22:11-22:14" name="UML" elements="/0/@elements.2/@inPattern/@elements.0/@type"/>
  <ocl:OclModel location="23:11-23:18" name="Intalio" elements="/0/@elements.2/@outPattern/@elements.0/@type"/>
  <ocl:OclModel location="27:10-27:17" name="Intalio" elements="/0/@elements.2/@outPattern/@elements.1/@type"/>
  <ocl:OclModel location="30:54-30:57" name="UML" elements="/0/@elements.2/@outPattern/@elements.1/@bindings.2/@value/@source/@body/@arguments.0"/>
  <ocl:OclModel location="33:41-33:44" name="UML" elements="/0/@elements.2/@outPattern/@elements.1/@bindings.2/@value/@body/@condition/@arguments.0"/>
  <ocl:VariableDeclaration location="33:63-33:73" varName="thisModule" variableExp="/0/@elements.2/@outPattern/@elements.1/@bindings.2/@value/@body/@thenExpression/@source"/>
  <ocl:OclModel location="39:13-39:16" name="UML" elements="/0/@elements.3/@inPattern/@elements.0/@type"/>
  <ocl:OclModel location="40:13-40:20" name="Intalio" elements="/0/@elements.3/@outPattern/@elements.0/@type"/>
  <ocl:OclModel location="50:17-50:20" name="UML" elements="/0/@elements.4/@inPattern/@elements.0/@type"/>
  <ocl:OclModel location="57:16-57:23" name="Intalio" elements="/0/@elements.4/@outPattern/@elements.0/@type"/>
  <ocl:OclModel location="64:17-64:20" name="UML" elements="/0/@elements.5/@inPattern/@elements.0/@type"/>
  <ocl:OclModel location="66:28-66:31" name="UML" elements="/0/@elements.5/@inPattern/@filter/@body/@arguments.0"/>
  <ocl:OclModel location="68:16-68:23" name="Intalio" elements="/0/@elements.5/@outPattern/@elements.0/@type"/>
  <ocl:OclModel location="74:13-74:16" name="UML" elements="/0/@elements.6/@inPattern/@elements.0/@type"/>
  <ocl:OclModel location="75:13-75:20" name="Intalio" elements="/0/@elements.6/@outPattern/@elements.0/@type"/>
</xmi:XMI>
