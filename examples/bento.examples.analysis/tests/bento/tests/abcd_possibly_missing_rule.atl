-- @path MM=/bento.examples.analysis/tests/bento/tests/ABCD.ecore

module abcd;
create OUT : MM, OUT2 : MM from IN : MM;

rule model {
        from src : MM!Model 
        to   tgt : MM!Model (
        	name <- src.name,
			elements <- src.elements,
			elements <- a
		),
		a : MM!A
}

rule A { 
        from src  : MM!B 
        to   tgt : MM!A (
                name   <- src.name
		)
}

rule D1 { 
        from src  : MM!D1 
        to   tgt : MM!A (
                name   <- src.name
		)
}

rule D2 { 
        from src  : MM!D2 
        to   tgt : MM!A (
                name   <- src.name
		)
}