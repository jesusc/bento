-- @path PN=/bento.examples.analysis/tests/bento/tests/petri_nets.ecore
-- @path UML=/bento.examples.analysis/tests/bento/tests/UML.ecore

module uml2pn;
create OUT : PN from IN : UML;

rule activity_node {
        from activity : UML!Activity
        to   net  : PN!PetriNet (
        	elems <- activity.node->select(n | n.oclIsKindOf(UML!ExecutableNode))->first().handler
        )
}

rule handler {
	from
		handler : UML!ExceptionHandler
	to 
		pn : PN!Place (
			name <- 'handler'
		)
}