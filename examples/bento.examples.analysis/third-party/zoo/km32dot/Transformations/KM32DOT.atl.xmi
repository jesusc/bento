<?xml version="1.0" encoding="ISO-8859-1"?>
<xmi:XMI xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:atl="http://www.eclipse.org/gmt/2005/ATL" xmlns:ocl="http://www.eclipse.org/gmt/2005/OCL">
  <atl:Module location="1:1-449:2" name="KM32DOT">
    <commentsAfter>-- END RULES</commentsAfter>
    <inModels location="2:22-2:29" name="IN" metamodel="/2"/>
    <outModels location="2:8-2:16" name="OUT" metamodel="/1"/>
    <elements xsi:type="atl:Helper" location="10:1-10:44">
      <commentsBefore>-- Parameters</commentsBefore>
      <commentsBefore>-- DiagramType</commentsBefore>
      <commentsBefore>-- Specifies what kind of diagram shall be rendered: a Generalization one, </commentsBefore>
      <commentsBefore>-- or one based on composition links, or a standard one.</commentsBefore>
      <commentsBefore>-- Possible values:	'None' | 'Generalization' | 'Composition'</commentsBefore>
      <commentsAfter>-- Mode</commentsAfter>
      <commentsAfter>-- Specifies what association type shall be used so as to compute the</commentsAfter>
      <commentsAfter>-- layout of the diagram</commentsAfter>
      <commentsAfter>-- Possible values:	'All' | 'Generalization' | 'Composition' | 'Reference'</commentsAfter>
      <definition location="10:8-10:43">
        <feature xsi:type="ocl:Operation" location="10:13-10:43" name="DiagramType">
          <returnType xsi:type="ocl:StringType" location="10:28-10:34"/>
          <body xsi:type="ocl:StringExp" location="10:37-10:43" stringSymbol="None"/>
        </feature>
      </definition>
    </elements>
    <elements xsi:type="atl:Helper" location="16:1-16:36">
      <commentsBefore>-- Mode</commentsBefore>
      <commentsBefore>-- Specifies what association type shall be used so as to compute the</commentsBefore>
      <commentsBefore>-- layout of the diagram</commentsBefore>
      <commentsBefore>-- Possible values:	'All' | 'Generalization' | 'Composition' | 'Reference'</commentsBefore>
      <commentsAfter>-- Invisible</commentsAfter>
      <commentsAfter>-- Specifies whether the associations not used in the computation of the</commentsAfter>
      <commentsAfter>-- layout have yet to be rendered. For example, if Invisible = true and</commentsAfter>
      <commentsAfter>-- Mode = Generalization, the diagram will be rendered as if only</commentsAfter>
      <commentsAfter>-- generalization links did matter. If Invisible = false, then only</commentsAfter>
      <commentsAfter>-- generalization links are drawn, but the layout is the same as if</commentsAfter>
      <commentsAfter>-- Possible values:	true | false</commentsAfter>
      <definition location="16:8-16:35">
        <feature xsi:type="ocl:Operation" location="16:13-16:35" name="Mode">
          <returnType xsi:type="ocl:StringType" location="16:21-16:27"/>
          <body xsi:type="ocl:StringExp" location="16:30-16:35" stringSymbol="All"/>
        </feature>
      </definition>
    </elements>
    <elements xsi:type="atl:Helper" location="25:1-25:42">
      <commentsBefore>-- Invisible</commentsBefore>
      <commentsBefore>-- Specifies whether the associations not used in the computation of the</commentsBefore>
      <commentsBefore>-- layout have yet to be rendered. For example, if Invisible = true and</commentsBefore>
      <commentsBefore>-- Mode = Generalization, the diagram will be rendered as if only</commentsBefore>
      <commentsBefore>-- generalization links did matter. If Invisible = false, then only</commentsBefore>
      <commentsBefore>-- generalization links are drawn, but the layout is the same as if</commentsBefore>
      <commentsBefore>-- Possible values:	true | false</commentsBefore>
      <commentsAfter>-- MinimumArcLength</commentsAfter>
      <commentsAfter>-- Specifies the minimum length of an association, in inches.</commentsAfter>
      <commentsAfter>-- Possible values:	any positive integer value</commentsAfter>
      <definition location="25:8-25:41">
        <feature xsi:type="ocl:Operation" location="25:13-25:41" name="Invisible">
          <returnType xsi:type="ocl:BooleanType" location="25:26-25:33"/>
          <body xsi:type="ocl:BooleanExp" location="25:36-25:41"/>
        </feature>
      </definition>
    </elements>
    <elements xsi:type="atl:Helper" location="30:1-30:45">
      <commentsBefore>-- MinimumArcLength</commentsBefore>
      <commentsBefore>-- Specifies the minimum length of an association, in inches.</commentsBefore>
      <commentsBefore>-- Possible values:	any positive integer value</commentsBefore>
      <commentsAfter>-- MinimumNodeSeparation</commentsAfter>
      <commentsAfter>-- Specifies the minimum distance between two nodes, in inches.</commentsAfter>
      <commentsAfter>-- Possible values:	any positive real value</commentsAfter>
      <definition location="30:8-30:44">
        <feature xsi:type="ocl:Operation" location="30:13-30:44" name="MinimumArcLength">
          <returnType xsi:type="ocl:IntegerType" location="30:33-30:40"/>
          <body xsi:type="ocl:IntegerExp" location="30:43-30:44" integerSymbol="2"/>
        </feature>
      </definition>
    </elements>
    <elements xsi:type="atl:Helper" location="35:1-35:50">
      <commentsBefore>-- MinimumNodeSeparation</commentsBefore>
      <commentsBefore>-- Specifies the minimum distance between two nodes, in inches.</commentsBefore>
      <commentsBefore>-- Possible values:	any positive real value</commentsBefore>
      <commentsAfter>-- RankingDirection</commentsAfter>
      <commentsAfter>-- Specifies the direction in which the diagram should be rendered. Most</commentsAfter>
      <commentsAfter>-- class diagrams are rendered with the value 'BT'</commentsAfter>
      <commentsAfter>-- Possible values:	'BT' | 'TB' | 'LR' | 'RL' (Bottom to Top, </commentsAfter>
      <commentsAfter>-- 	Top to Bottom, Left to Right, Right to Left)</commentsAfter>
      <definition location="35:8-35:49">
        <feature xsi:type="ocl:Operation" location="35:13-35:49" name="MinimumNodeSeparation">
          <returnType xsi:type="ocl:RealType" location="35:38-35:42"/>
          <body xsi:type="ocl:RealExp" location="35:45-35:49" realSymbol="0.75"/>
        </feature>
      </definition>
    </elements>
    <elements xsi:type="atl:Helper" location="42:1-42:47">
      <commentsBefore>-- RankingDirection</commentsBefore>
      <commentsBefore>-- Specifies the direction in which the diagram should be rendered. Most</commentsBefore>
      <commentsBefore>-- class diagrams are rendered with the value 'BT'</commentsBefore>
      <commentsBefore>-- Possible values:	'BT' | 'TB' | 'LR' | 'RL' (Bottom to Top, </commentsBefore>
      <commentsBefore>-- 	Top to Bottom, Left to Right, Right to Left)</commentsBefore>
      <definition location="42:8-42:46">
        <feature xsi:type="ocl:Operation" location="42:13-42:46" name="RankingDirection">
          <returnType xsi:type="ocl:StringType" location="42:33-42:39"/>
          <body xsi:type="ocl:StringExp" location="42:42-42:46" stringSymbol="BT"/>
        </feature>
      </definition>
    </elements>
    <elements xsi:type="atl:Helper" location="44:1-44:48">
      <definition location="44:8-44:47">
        <feature xsi:type="ocl:Operation" location="44:13-44:47" name="LabelJustification">
          <returnType xsi:type="ocl:StringType" location="44:35-44:41"/>
          <body xsi:type="ocl:StringExp" location="44:44-44:47" stringSymbol="l"/>
        </feature>
      </definition>
    </elements>
    <elements xsi:type="atl:Helper" location="46:1-46:43">
      <commentsAfter>-- DataTypeHeader</commentsAfter>
      <commentsAfter>-- The name of a datatype should begin with &lt;&lt;DataType>></commentsAfter>
      <definition location="46:8-46:42">
        <feature xsi:type="ocl:Operation" location="46:13-46:42" name="LabelLocation">
          <returnType xsi:type="ocl:StringType" location="46:30-46:36"/>
          <body xsi:type="ocl:StringExp" location="46:39-46:42" stringSymbol="t"/>
        </feature>
      </definition>
    </elements>
    <elements xsi:type="atl:Helper" location="50:1-50:66">
      <commentsBefore>-- DataTypeHeader</commentsBefore>
      <commentsBefore>-- The name of a datatype should begin with &lt;&lt;DataType>></commentsBefore>
      <commentsAfter>-- End Parameters</commentsAfter>
      <commentsAfter>-- HELPERS</commentsAfter>
      <commentsAfter>-- DiagramMode</commentsAfter>
      <commentsAfter>-- Returns whether the DiagramMode parameter is the one tried or not</commentsAfter>
      <commentsAfter>-- IN:	mode: String</commentsAfter>
      <commentsAfter>-- OUT:	Boolean</commentsAfter>
      <definition location="50:8-50:65">
        <feature xsi:type="ocl:Operation" location="50:13-50:65" name="DataTypeHeader">
          <returnType xsi:type="ocl:StringType" location="50:31-50:37"/>
          <body xsi:type="ocl:StringExp" location="50:40-50:65" stringSymbol="&amp;#171;DataType&amp;#187;\n"/>
        </feature>
      </definition>
    </elements>
    <elements xsi:type="atl:Helper" location="59:1-60:27">
      <commentsBefore>-- End Parameters</commentsBefore>
      <commentsBefore>-- HELPERS</commentsBefore>
      <commentsBefore>-- DiagramMode</commentsBefore>
      <commentsBefore>-- Returns whether the DiagramMode parameter is the one tried or not</commentsBefore>
      <commentsBefore>-- IN:	mode: String</commentsBefore>
      <commentsBefore>-- OUT:	Boolean</commentsBefore>
      <commentsAfter>-- getDataTypeHead</commentsAfter>
      <commentsAfter>-- Returns the name of the datatype, with its header</commentsAfter>
      <commentsAfter>-- IN:	N/A</commentsAfter>
      <commentsAfter>-- OUT: String</commentsAfter>
      <definition location="59:8-60:26">
        <feature xsi:type="ocl:Operation" location="59:13-60:26" name="DiagramMode">
          <parameters location="59:25-59:37" varName="mode" variableExp="/0/@elements.9/@definition/@feature/@body/@source">
            <type xsi:type="ocl:StringType" location="59:31-59:37"/>
          </parameters>
          <returnType xsi:type="ocl:BooleanType" location="59:40-59:47"/>
          <body xsi:type="ocl:OperatorCallExp" location="60:2-60:26" operationName="=">
            <source xsi:type="ocl:VariableExp" location="60:2-60:6" referredVariable="/0/@elements.9/@definition/@feature/@parameters.0"/>
            <arguments xsi:type="ocl:OperationCallExp" location="60:9-60:26" operationName="Mode">
              <source xsi:type="ocl:VariableExp" location="60:9-60:19" referredVariable="/3"/>
            </arguments>
          </body>
        </feature>
      </definition>
    </elements>
    <elements xsi:type="atl:Helper" location="66:1-67:42">
      <commentsBefore>-- getDataTypeHead</commentsBefore>
      <commentsBefore>-- Returns the name of the datatype, with its header</commentsBefore>
      <commentsBefore>-- IN:	N/A</commentsBefore>
      <commentsBefore>-- OUT: String</commentsBefore>
      <commentsAfter>-- getLabel</commentsAfter>
      <commentsAfter>-- Returns the correct SimpleLabel content for a KM3 Class:</commentsAfter>
      <commentsAfter>--	Name | Attributes | Operations</commentsAfter>
      <commentsAfter>-- IN:	N/A</commentsAfter>
      <commentsAfter>-- OUT: String</commentsAfter>
      <definition location="66:8-67:41">
        <feature xsi:type="ocl:Operation" location="66:34-67:41" name="getDataTypeHead">
          <returnType xsi:type="ocl:StringType" location="66:53-66:59"/>
          <body xsi:type="ocl:OperatorCallExp" location="67:2-67:41" operationName="+">
            <source xsi:type="ocl:OperationCallExp" location="67:2-67:29" operationName="DataTypeHeader">
              <source xsi:type="ocl:VariableExp" location="67:2-67:12" referredVariable="/5"/>
            </source>
            <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="67:32-67:41" name="name">
              <source xsi:type="ocl:VariableExp" location="67:32-67:36" referredVariable="/6"/>
            </arguments>
          </body>
        </feature>
        <context_ location="66:8-66:28">
          <context_ xsi:type="ocl:OclModelElement" location="66:16-66:28" name="DataType" model="/4"/>
        </context_>
      </definition>
    </elements>
    <elements xsi:type="atl:Helper" location="74:1-77:31">
      <commentsBefore>-- getLabel</commentsBefore>
      <commentsBefore>-- Returns the correct SimpleLabel content for a KM3 Class:</commentsBefore>
      <commentsBefore>--	Name | Attributes | Operations</commentsBefore>
      <commentsBefore>-- IN:	N/A</commentsBefore>
      <commentsBefore>-- OUT: String</commentsBefore>
      <commentsAfter>-- getName</commentsAfter>
      <commentsAfter>-- Returns the name of the class. If the class is abstract, the name</commentsAfter>
      <commentsAfter>-- is put between slashes</commentsAfter>
      <commentsAfter>-- IN:	N/A</commentsAfter>
      <commentsAfter>-- OUT:	String</commentsAfter>
      <definition location="74:8-77:30">
        <feature xsi:type="ocl:Operation" location="74:31-77:30" name="getLabel">
          <returnType xsi:type="ocl:StringType" location="74:43-74:49"/>
          <body xsi:type="ocl:OperatorCallExp" location="75:2-77:30" operationName="+">
            <source xsi:type="ocl:OperatorCallExp" location="75:2-77:24" operationName="+">
              <source xsi:type="ocl:OperatorCallExp" location="75:2-76:30" operationName="+">
                <source xsi:type="ocl:OperatorCallExp" location="75:2-76:24" operationName="+">
                  <source xsi:type="ocl:OperatorCallExp" location="75:2-75:28" operationName="+">
                    <source xsi:type="ocl:OperatorCallExp" location="75:2-75:22" operationName="+">
                      <source xsi:type="ocl:StringExp" location="75:2-75:5" stringSymbol="{"/>
                      <arguments xsi:type="ocl:OperationCallExp" location="75:8-75:22" operationName="getName">
                        <source xsi:type="ocl:VariableExp" location="75:8-75:12" referredVariable="/8"/>
                      </arguments>
                    </source>
                    <arguments xsi:type="ocl:StringExp" location="75:25-75:28" stringSymbol="|"/>
                  </source>
                  <arguments xsi:type="ocl:OperationCallExp" location="76:4-76:24" operationName="getAttributes">
                    <source xsi:type="ocl:VariableExp" location="76:4-76:8" referredVariable="/9"/>
                  </arguments>
                </source>
                <arguments xsi:type="ocl:StringExp" location="76:27-76:30" stringSymbol="|"/>
              </source>
              <arguments xsi:type="ocl:OperationCallExp" location="77:4-77:24" operationName="getOperations">
                <source xsi:type="ocl:VariableExp" location="77:4-77:8" referredVariable="/10"/>
              </arguments>
            </source>
            <arguments xsi:type="ocl:StringExp" location="77:27-77:30" stringSymbol="}"/>
          </body>
        </feature>
        <context_ location="74:8-74:25">
          <context_ xsi:type="ocl:OclModelElement" location="74:16-74:25" name="Class" model="/7"/>
        </context_>
      </definition>
    </elements>
    <elements xsi:type="atl:Helper" location="84:1-89:8">
      <commentsBefore>-- getName</commentsBefore>
      <commentsBefore>-- Returns the name of the class. If the class is abstract, the name</commentsBefore>
      <commentsBefore>-- is put between slashes</commentsBefore>
      <commentsBefore>-- IN:	N/A</commentsBefore>
      <commentsBefore>-- OUT:	String</commentsBefore>
      <commentsAfter>-- getAttributes</commentsAfter>
      <commentsAfter>-- Returns the list of attributes of the class, with one attribute per line</commentsAfter>
      <commentsAfter>-- and the correct multiplicities, using the getMultiplicity helper.</commentsAfter>
      <commentsAfter>-- IN:	N/A</commentsAfter>
      <commentsAfter>-- OUT:	String</commentsAfter>
      <definition location="84:8-89:7">
        <feature xsi:type="ocl:Operation" location="84:31-89:7" name="getName">
          <returnType xsi:type="ocl:StringType" location="84:42-84:48"/>
          <body xsi:type="ocl:IfExp" location="85:2-89:7">
            <thenExpression xsi:type="ocl:OperatorCallExp" location="86:3-86:24" operationName="+">
              <source xsi:type="ocl:OperatorCallExp" location="86:3-86:18" operationName="+">
                <source xsi:type="ocl:StringExp" location="86:3-86:6" stringSymbol="/"/>
                <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="86:9-86:18" name="name">
                  <source xsi:type="ocl:VariableExp" location="86:9-86:13" referredVariable="/13"/>
                </arguments>
              </source>
              <arguments xsi:type="ocl:StringExp" location="86:21-86:24" stringSymbol="/"/>
            </thenExpression>
            <condition xsi:type="ocl:NavigationOrAttributeCallExp" location="85:5-85:20" name="isAbstract">
              <source xsi:type="ocl:VariableExp" location="85:5-85:9" referredVariable="/12"/>
            </condition>
            <elseExpression xsi:type="ocl:NavigationOrAttributeCallExp" location="88:3-88:12" name="name">
              <source xsi:type="ocl:VariableExp" location="88:3-88:7" referredVariable="/14"/>
            </elseExpression>
          </body>
        </feature>
        <context_ location="84:8-84:25">
          <context_ xsi:type="ocl:OclModelElement" location="84:16-84:25" name="Class" model="/11"/>
        </context_>
      </definition>
    </elements>
    <elements xsi:type="atl:Helper" location="96:1-107:8">
      <commentsBefore>-- getAttributes</commentsBefore>
      <commentsBefore>-- Returns the list of attributes of the class, with one attribute per line</commentsBefore>
      <commentsBefore>-- and the correct multiplicities, using the getMultiplicity helper.</commentsBefore>
      <commentsBefore>-- IN:	N/A</commentsBefore>
      <commentsBefore>-- OUT:	String</commentsBefore>
      <commentsAfter>-- getOperations</commentsAfter>
      <commentsAfter>-- Returns the list of operation of the class, with one operation per line,</commentsAfter>
      <commentsAfter>-- their parameters and return type.</commentsAfter>
      <commentsAfter>-- IN:	N/A</commentsAfter>
      <commentsAfter>-- OUT:	String</commentsAfter>
      <definition location="96:8-107:7">
        <feature xsi:type="ocl:Operation" location="96:31-107:7" name="getAttributes">
          <returnType xsi:type="ocl:StringType" location="96:48-96:54"/>
          <body xsi:type="ocl:LetExp" location="97:2-107:7">
            <variable location="97:6-99:32" varName="attributes" variableExp="/0/@elements.13/@definition/@feature/@body/@in_/@condition/@source /0/@elements.13/@definition/@feature/@body/@in_/@thenExpression/@source">
              <type xsi:type="ocl:SequenceType" location="97:19-97:42">
                <elementType xsi:type="ocl:OclModelElement" location="97:28-97:41" name="Attribute" model="/16"/>
              </type>
              <initExpression xsi:type="ocl:IteratorExp" location="97:45-99:32" name="select">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="97:45-97:68" name="structuralFeatures">
                  <source xsi:type="ocl:VariableExp" location="97:45-97:49" referredVariable="/17"/>
                </source>
                <body xsi:type="ocl:OperationCallExp" location="99:3-99:31" operationName="oclIsKindOf">
                  <source xsi:type="ocl:VariableExp" location="99:3-99:4" referredVariable="/0/@elements.13/@definition/@feature/@body/@variable/@initExpression/@iterators.0"/>
                  <arguments xsi:type="ocl:OclModelElement" location="99:17-99:30" name="Attribute" model="/18"/>
                </body>
                <iterators location="98:11-98:12" varName="e" variableExp="/0/@elements.13/@definition/@feature/@body/@variable/@initExpression/@body/@source"/>
              </initExpression>
            </variable>
            <in_ xsi:type="ocl:IfExp" location="100:2-107:7">
              <thenExpression xsi:type="ocl:IterateExp" location="101:3-104:4">
                <source xsi:type="ocl:VariableExp" location="101:3-101:13" referredVariable="/0/@elements.13/@definition/@feature/@body/@variable"/>
                <body xsi:type="ocl:OperatorCallExp" location="102:4-103:54" operationName="+">
                  <source xsi:type="ocl:OperatorCallExp" location="102:4-103:40" operationName="+">
                    <source xsi:type="ocl:OperatorCallExp" location="102:4-103:32" operationName="+">
                      <source xsi:type="ocl:OperatorCallExp" location="102:4-103:10" operationName="+">
                        <source xsi:type="ocl:OperatorCallExp" location="102:4-102:46" operationName="+">
                          <source xsi:type="ocl:VariableExp" location="102:4-102:7" referredVariable="/0/@elements.13/@definition/@feature/@body/@in_/@thenExpression/@result"/>
                          <arguments xsi:type="ocl:IfExp" location="102:10-102:46">
                            <thenExpression xsi:type="ocl:StringExp" location="102:27-102:29" stringSymbol=""/>
                            <condition xsi:type="ocl:OperatorCallExp" location="102:13-102:21" operationName="=">
                              <source xsi:type="ocl:VariableExp" location="102:13-102:16" referredVariable="/0/@elements.13/@definition/@feature/@body/@in_/@thenExpression/@result"/>
                              <arguments xsi:type="ocl:StringExp" location="102:19-102:21" stringSymbol=""/>
                            </condition>
                            <elseExpression xsi:type="ocl:StringExp" location="102:35-102:40" stringSymbol="\n"/>
                          </arguments>
                        </source>
                        <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="103:4-103:10" name="name">
                          <source xsi:type="ocl:VariableExp" location="103:4-103:5" referredVariable="/0/@elements.13/@definition/@feature/@body/@in_/@thenExpression/@iterators.0"/>
                        </arguments>
                      </source>
                      <arguments xsi:type="ocl:OperationCallExp" location="103:13-103:32" operationName="getMultiplicity">
                        <source xsi:type="ocl:VariableExp" location="103:13-103:14" referredVariable="/0/@elements.13/@definition/@feature/@body/@in_/@thenExpression/@iterators.0"/>
                      </arguments>
                    </source>
                    <arguments xsi:type="ocl:StringExp" location="103:35-103:40" stringSymbol=" : "/>
                  </source>
                  <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="103:43-103:54" name="name">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" location="103:43-103:49" name="type">
                      <source xsi:type="ocl:VariableExp" location="103:43-103:44" referredVariable="/0/@elements.13/@definition/@feature/@body/@in_/@thenExpression/@iterators.0"/>
                    </source>
                  </arguments>
                </body>
                <iterators location="101:24-101:25" varName="e" variableExp="/0/@elements.13/@definition/@feature/@body/@in_/@thenExpression/@body/@source/@source/@source/@arguments.0/@source /0/@elements.13/@definition/@feature/@body/@in_/@thenExpression/@body/@source/@source/@arguments.0/@source /0/@elements.13/@definition/@feature/@body/@in_/@thenExpression/@body/@arguments.0/@source/@source"/>
                <result location="101:27-101:43" varName="acc" variableExp="/0/@elements.13/@definition/@feature/@body/@in_/@thenExpression/@body/@source/@source/@source/@source/@source /0/@elements.13/@definition/@feature/@body/@in_/@thenExpression/@body/@source/@source/@source/@source/@arguments.0/@condition/@source">
                  <type xsi:type="ocl:StringType" location="101:32-101:38"/>
                  <initExpression xsi:type="ocl:StringExp" location="101:41-101:43" stringSymbol=""/>
                </result>
              </thenExpression>
              <condition xsi:type="ocl:CollectionOperationCallExp" location="100:5-100:27" operationName="notEmpty">
                <source xsi:type="ocl:VariableExp" location="100:5-100:15" referredVariable="/0/@elements.13/@definition/@feature/@body/@variable"/>
              </condition>
              <elseExpression xsi:type="ocl:StringExp" location="106:3-106:6" stringSymbol=" "/>
            </in_>
          </body>
        </feature>
        <context_ location="96:8-96:25">
          <context_ xsi:type="ocl:OclModelElement" location="96:16-96:25" name="Class" model="/15"/>
        </context_>
      </definition>
    </elements>
    <elements xsi:type="atl:Helper" location="114:1-126:8">
      <commentsBefore>-- getOperations</commentsBefore>
      <commentsBefore>-- Returns the list of operation of the class, with one operation per line,</commentsBefore>
      <commentsBefore>-- their parameters and return type.</commentsBefore>
      <commentsBefore>-- IN:	N/A</commentsBefore>
      <commentsBefore>-- OUT:	String</commentsBefore>
      <commentsAfter>-- getMultiplicity</commentsAfter>
      <commentsAfter>-- Returns the multiplicity of the element</commentsAfter>
      <commentsAfter>-- IN:	N/A</commentsAfter>
      <commentsAfter>-- OUT:	String</commentsAfter>
      <definition location="114:8-126:7">
        <feature xsi:type="ocl:Operation" location="114:31-126:7" name="getOperations">
          <returnType xsi:type="ocl:StringType" location="114:48-114:54"/>
          <body xsi:type="ocl:LetExp" location="115:2-126:7">
            <variable location="115:6-115:60" varName="operations" variableExp="/0/@elements.14/@definition/@feature/@body/@in_/@condition/@source /0/@elements.14/@definition/@feature/@body/@in_/@thenExpression/@source">
              <type xsi:type="ocl:SequenceType" location="115:19-115:42">
                <elementType xsi:type="ocl:OclModelElement" location="115:28-115:41" name="Operation" model="/20"/>
              </type>
              <initExpression xsi:type="ocl:NavigationOrAttributeCallExp" location="115:45-115:60" name="operations">
                <source xsi:type="ocl:VariableExp" location="115:45-115:49" referredVariable="/21"/>
              </initExpression>
            </variable>
            <in_ xsi:type="ocl:IfExp" location="116:2-126:7">
              <thenExpression xsi:type="ocl:IterateExp" location="117:3-123:18">
                <source xsi:type="ocl:VariableExp" location="117:3-117:13" referredVariable="/0/@elements.14/@definition/@feature/@body/@variable"/>
                <body xsi:type="ocl:OperatorCallExp" location="118:4-123:17" operationName="+">
                  <source xsi:type="ocl:OperatorCallExp" location="118:4-123:9" operationName="+">
                    <source xsi:type="ocl:OperatorCallExp" location="118:4-118:36" operationName="+">
                      <source xsi:type="ocl:OperatorCallExp" location="118:4-118:16" operationName="+">
                        <source xsi:type="ocl:VariableExp" location="118:4-118:7" referredVariable="/0/@elements.14/@definition/@feature/@body/@in_/@thenExpression/@result"/>
                        <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="118:10-118:16" name="name">
                          <source xsi:type="ocl:VariableExp" location="118:10-118:11" referredVariable="/0/@elements.14/@definition/@feature/@body/@in_/@thenExpression/@iterators.0"/>
                        </arguments>
                      </source>
                      <arguments xsi:type="ocl:OperationCallExp" location="118:19-118:36" operationName="getParameters">
                        <source xsi:type="ocl:VariableExp" location="118:19-118:20" referredVariable="/0/@elements.14/@definition/@feature/@body/@in_/@thenExpression/@iterators.0"/>
                      </arguments>
                    </source>
                    <arguments xsi:type="ocl:IfExp" location="119:4-123:9">
                      <thenExpression xsi:type="ocl:StringExp" location="120:5-120:7" stringSymbol=""/>
                      <condition xsi:type="ocl:OperationCallExp" location="119:7-119:30" operationName="oclIsUndefined">
                        <source xsi:type="ocl:NavigationOrAttributeCallExp" location="119:7-119:13" name="type">
                          <source xsi:type="ocl:VariableExp" location="119:7-119:8" referredVariable="/0/@elements.14/@definition/@feature/@body/@in_/@thenExpression/@iterators.0"/>
                        </source>
                      </condition>
                      <elseExpression xsi:type="ocl:OperatorCallExp" location="122:5-122:25" operationName="+">
                        <source xsi:type="ocl:StringExp" location="122:5-122:10" stringSymbol=" : "/>
                        <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="122:14-122:25" name="name">
                          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="122:14-122:20" name="type">
                            <source xsi:type="ocl:VariableExp" location="122:14-122:15" referredVariable="/0/@elements.14/@definition/@feature/@body/@in_/@thenExpression/@iterators.0"/>
                          </source>
                        </arguments>
                      </elseExpression>
                    </arguments>
                  </source>
                  <arguments xsi:type="ocl:StringExp" location="123:12-123:17" stringSymbol="\n"/>
                </body>
                <iterators location="117:24-117:25" varName="e" variableExp="/0/@elements.14/@definition/@feature/@body/@in_/@thenExpression/@body/@source/@source/@source/@arguments.0/@source /0/@elements.14/@definition/@feature/@body/@in_/@thenExpression/@body/@source/@source/@arguments.0/@source /0/@elements.14/@definition/@feature/@body/@in_/@thenExpression/@body/@source/@arguments.0/@condition/@source/@source /0/@elements.14/@definition/@feature/@body/@in_/@thenExpression/@body/@source/@arguments.0/@elseExpression/@arguments.0/@source/@source"/>
                <result location="117:27-117:43" varName="acc" variableExp="/0/@elements.14/@definition/@feature/@body/@in_/@thenExpression/@body/@source/@source/@source/@source">
                  <type xsi:type="ocl:StringType" location="117:32-117:38"/>
                  <initExpression xsi:type="ocl:StringExp" location="117:41-117:43" stringSymbol=""/>
                </result>
              </thenExpression>
              <condition xsi:type="ocl:CollectionOperationCallExp" location="116:5-116:27" operationName="notEmpty">
                <source xsi:type="ocl:VariableExp" location="116:5-116:15" referredVariable="/0/@elements.14/@definition/@feature/@body/@variable"/>
              </condition>
              <elseExpression xsi:type="ocl:StringExp" location="125:3-125:6" stringSymbol=" "/>
            </in_>
          </body>
        </feature>
        <context_ location="114:8-114:25">
          <context_ xsi:type="ocl:OclModelElement" location="114:16-114:25" name="Class" model="/19"/>
        </context_>
      </definition>
    </elements>
    <elements xsi:type="atl:Helper" location="132:1-149:8">
      <commentsBefore>-- getMultiplicity</commentsBefore>
      <commentsBefore>-- Returns the multiplicity of the element</commentsBefore>
      <commentsBefore>-- IN:	N/A</commentsBefore>
      <commentsBefore>-- OUT:	String</commentsBefore>
      <commentsAfter>-- getParameters</commentsAfter>
      <commentsAfter>-- Returns the parameters of the current operation, with their types,</commentsAfter>
      <commentsAfter>-- and separated with commas.</commentsAfter>
      <commentsAfter>-- IN:	N/A</commentsAfter>
      <commentsAfter>-- OUT:	String</commentsAfter>
      <definition location="132:8-149:7">
        <feature xsi:type="ocl:Operation" location="132:38-149:7" name="getMultiplicity">
          <returnType xsi:type="ocl:StringType" location="132:57-132:63"/>
          <body xsi:type="ocl:IfExp" location="133:2-149:7">
            <thenExpression xsi:type="ocl:IfExp" location="134:3-138:8">
              <thenExpression xsi:type="ocl:StringExp" location="135:4-135:9" stringSymbol="[*]"/>
              <condition xsi:type="ocl:OperatorCallExp" location="134:6-134:22" operationName="=">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="134:6-134:16" name="upper">
                  <source xsi:type="ocl:VariableExp" location="134:6-134:10" referredVariable="/24"/>
                </source>
                <arguments xsi:type="ocl:OperatorCallExp" location="134:19-134:22" operationName="-">
                  <source xsi:type="ocl:IntegerExp" location="134:19-134:20"/>
                  <arguments xsi:type="ocl:IntegerExp" location="134:21-134:22" integerSymbol="1"/>
                </arguments>
              </condition>
              <elseExpression xsi:type="ocl:OperatorCallExp" location="137:4-137:67" operationName="+">
                <source xsi:type="ocl:OperatorCallExp" location="137:4-137:61" operationName="+">
                  <source xsi:type="ocl:OperatorCallExp" location="137:4-137:37" operationName="+">
                    <source xsi:type="ocl:OperatorCallExp" location="137:4-137:31" operationName="+">
                      <source xsi:type="ocl:StringExp" location="137:4-137:7" stringSymbol="["/>
                      <arguments xsi:type="ocl:OperationCallExp" location="137:10-137:31" operationName="toString">
                        <source xsi:type="ocl:NavigationOrAttributeCallExp" location="137:10-137:20" name="lower">
                          <source xsi:type="ocl:VariableExp" location="137:10-137:14" referredVariable="/25"/>
                        </source>
                      </arguments>
                    </source>
                    <arguments xsi:type="ocl:StringExp" location="137:34-137:37" stringSymbol="-"/>
                  </source>
                  <arguments xsi:type="ocl:OperationCallExp" location="137:40-137:61" operationName="toString">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" location="137:40-137:50" name="upper">
                      <source xsi:type="ocl:VariableExp" location="137:40-137:44" referredVariable="/26"/>
                    </source>
                  </arguments>
                </source>
                <arguments xsi:type="ocl:StringExp" location="137:64-137:67" stringSymbol="]"/>
              </elseExpression>
            </thenExpression>
            <condition xsi:type="ocl:OperatorCallExp" location="133:5-133:19" operationName="=">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="133:5-133:15" name="lower">
                <source xsi:type="ocl:VariableExp" location="133:5-133:9" referredVariable="/23"/>
              </source>
              <arguments xsi:type="ocl:IntegerExp" location="133:18-133:19"/>
            </condition>
            <elseExpression xsi:type="ocl:IfExp" location="140:3-148:8">
              <thenExpression xsi:type="ocl:StringExp" location="141:4-141:6" stringSymbol=""/>
              <condition xsi:type="ocl:OperatorCallExp" location="140:6-140:20" operationName="=">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="140:6-140:16" name="upper">
                  <source xsi:type="ocl:VariableExp" location="140:6-140:10" referredVariable="/27"/>
                </source>
                <arguments xsi:type="ocl:IntegerExp" location="140:19-140:20" integerSymbol="1"/>
              </condition>
              <elseExpression xsi:type="ocl:IfExp" location="143:4-147:9">
                <thenExpression xsi:type="ocl:OperatorCallExp" location="144:5-144:45" operationName="+">
                  <source xsi:type="ocl:OperatorCallExp" location="144:5-144:38" operationName="+">
                    <source xsi:type="ocl:OperatorCallExp" location="144:5-144:32" operationName="+">
                      <source xsi:type="ocl:StringExp" location="144:5-144:8" stringSymbol="["/>
                      <arguments xsi:type="ocl:OperationCallExp" location="144:11-144:32" operationName="toString">
                        <source xsi:type="ocl:NavigationOrAttributeCallExp" location="144:11-144:21" name="lower">
                          <source xsi:type="ocl:VariableExp" location="144:11-144:15" referredVariable="/29"/>
                        </source>
                      </arguments>
                    </source>
                    <arguments xsi:type="ocl:StringExp" location="144:35-144:38" stringSymbol="-"/>
                  </source>
                  <arguments xsi:type="ocl:StringExp" location="144:41-144:45" stringSymbol="*]"/>
                </thenExpression>
                <condition xsi:type="ocl:OperatorCallExp" location="143:7-143:23" operationName="=">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="143:7-143:17" name="upper">
                    <source xsi:type="ocl:VariableExp" location="143:7-143:11" referredVariable="/28"/>
                  </source>
                  <arguments xsi:type="ocl:OperatorCallExp" location="143:20-143:23" operationName="-">
                    <source xsi:type="ocl:IntegerExp" location="143:20-143:21"/>
                    <arguments xsi:type="ocl:IntegerExp" location="143:22-143:23" integerSymbol="1"/>
                  </arguments>
                </condition>
                <elseExpression xsi:type="ocl:OperatorCallExp" location="146:5-146:62" operationName="+">
                  <source xsi:type="ocl:OperatorCallExp" location="146:5-146:56" operationName="+">
                    <source xsi:type="ocl:OperatorCallExp" location="146:5-146:32" operationName="+">
                      <source xsi:type="ocl:StringExp" location="146:5-146:8" stringSymbol="["/>
                      <arguments xsi:type="ocl:OperationCallExp" location="146:11-146:32" operationName="toString">
                        <source xsi:type="ocl:NavigationOrAttributeCallExp" location="146:11-146:21" name="lower">
                          <source xsi:type="ocl:VariableExp" location="146:11-146:15" referredVariable="/30"/>
                        </source>
                      </arguments>
                    </source>
                    <arguments xsi:type="ocl:OperationCallExp" location="146:35-146:56" operationName="toString">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" location="146:35-146:45" name="upper">
                        <source xsi:type="ocl:VariableExp" location="146:35-146:39" referredVariable="/31"/>
                      </source>
                    </arguments>
                  </source>
                  <arguments xsi:type="ocl:StringExp" location="146:59-146:62" stringSymbol="]"/>
                </elseExpression>
              </elseExpression>
            </elseExpression>
          </body>
        </feature>
        <context_ location="132:8-132:32">
          <context_ xsi:type="ocl:OclModelElement" location="132:16-132:32" name="TypedElement" model="/22"/>
        </context_>
      </definition>
    </elements>
    <elements xsi:type="atl:Helper" location="156:1-165:8">
      <commentsBefore>-- getParameters</commentsBefore>
      <commentsBefore>-- Returns the parameters of the current operation, with their types,</commentsBefore>
      <commentsBefore>-- and separated with commas.</commentsBefore>
      <commentsBefore>-- IN:	N/A</commentsBefore>
      <commentsBefore>-- OUT:	String</commentsBefore>
      <commentsAfter>-- relationsList</commentsAfter>
      <commentsAfter>-- This helper is used so as to match a reference only once. Indeed, in </commentsAfter>
      <commentsAfter>-- KM3, if the relation is bidirectionnal, it is referenced in both its</commentsAfter>
      <commentsAfter>-- edge classes.</commentsAfter>
      <commentsAfter>-- It puts the container class the second part of the returned tuple.</commentsAfter>
      <commentsAfter>-- IN:	N/A</commentsAfter>
      <commentsAfter>-- OUT:	Sequence(Tuple (reference, opposite reference))</commentsAfter>
      <definition location="156:8-165:7">
        <feature xsi:type="ocl:Operation" location="156:35-165:7" name="getParameters">
          <returnType xsi:type="ocl:StringType" location="156:52-156:58"/>
          <body xsi:type="ocl:LetExp" location="157:2-165:7">
            <variable location="157:6-157:60" varName="parameters" variableExp="/0/@elements.16/@definition/@feature/@body/@in_/@source/@arguments.0/@source /0/@elements.16/@definition/@feature/@body/@in_/@source/@arguments.0/@body/@arguments.0/@condition/@arguments.0/@source/@source">
              <type xsi:type="ocl:SequenceType" location="157:19-157:42">
                <elementType xsi:type="ocl:OclModelElement" location="157:28-157:41" name="Parameter" model="/33"/>
              </type>
              <initExpression xsi:type="ocl:NavigationOrAttributeCallExp" location="157:45-157:60" name="parameters">
                <source xsi:type="ocl:VariableExp" location="157:45-157:49" referredVariable="/34"/>
              </initExpression>
            </variable>
            <in_ xsi:type="ocl:OperatorCallExp" location="158:2-165:7" operationName="+">
              <source xsi:type="ocl:OperatorCallExp" location="158:2-164:9" operationName="+">
                <source xsi:type="ocl:StringExp" location="158:2-158:5" stringSymbol="("/>
                <arguments xsi:type="ocl:IterateExp" location="158:8-164:9">
                  <source xsi:type="ocl:VariableExp" location="158:8-158:18" referredVariable="/0/@elements.16/@definition/@feature/@body/@variable"/>
                  <body xsi:type="ocl:OperatorCallExp" location="159:3-164:8" operationName="+">
                    <source xsi:type="ocl:VariableExp" location="159:3-159:6" referredVariable="/0/@elements.16/@definition/@feature/@body/@in_/@source/@arguments.0/@result"/>
                    <arguments xsi:type="ocl:IfExp" location="160:3-164:8">
                      <thenExpression xsi:type="ocl:OperatorCallExp" location="161:4-161:32" operationName="+">
                        <source xsi:type="ocl:OperatorCallExp" location="161:4-161:18" operationName="+">
                          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="161:4-161:10" name="name">
                            <source xsi:type="ocl:VariableExp" location="161:4-161:5" referredVariable="/0/@elements.16/@definition/@feature/@body/@in_/@source/@arguments.0/@iterators.0"/>
                          </source>
                          <arguments xsi:type="ocl:StringExp" location="161:13-161:18" stringSymbol=" : "/>
                        </source>
                        <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="161:21-161:32" name="name">
                          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="161:21-161:27" name="type">
                            <source xsi:type="ocl:VariableExp" location="161:21-161:22" referredVariable="/0/@elements.16/@definition/@feature/@body/@in_/@source/@arguments.0/@iterators.0"/>
                          </source>
                        </arguments>
                      </thenExpression>
                      <condition xsi:type="ocl:OperatorCallExp" location="160:6-160:38" operationName="=">
                        <source xsi:type="ocl:NavigationOrAttributeCallExp" location="160:6-160:12" name="name">
                          <source xsi:type="ocl:VariableExp" location="160:6-160:7" referredVariable="/0/@elements.16/@definition/@feature/@body/@in_/@source/@arguments.0/@iterators.0"/>
                        </source>
                        <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="160:15-160:38" name="name">
                          <source xsi:type="ocl:CollectionOperationCallExp" location="160:15-160:33" operationName="last">
                            <source xsi:type="ocl:VariableExp" location="160:15-160:25" referredVariable="/0/@elements.16/@definition/@feature/@body/@variable"/>
                          </source>
                        </arguments>
                      </condition>
                      <elseExpression xsi:type="ocl:OperatorCallExp" location="163:4-163:38" operationName="+">
                        <source xsi:type="ocl:OperatorCallExp" location="163:4-163:32" operationName="+">
                          <source xsi:type="ocl:OperatorCallExp" location="163:4-163:18" operationName="+">
                            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="163:4-163:10" name="name">
                              <source xsi:type="ocl:VariableExp" location="163:4-163:5" referredVariable="/0/@elements.16/@definition/@feature/@body/@in_/@source/@arguments.0/@iterators.0"/>
                            </source>
                            <arguments xsi:type="ocl:StringExp" location="163:13-163:18" stringSymbol=" : "/>
                          </source>
                          <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="163:21-163:32" name="name">
                            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="163:21-163:27" name="type">
                              <source xsi:type="ocl:VariableExp" location="163:21-163:22" referredVariable="/0/@elements.16/@definition/@feature/@body/@in_/@source/@arguments.0/@iterators.0"/>
                            </source>
                          </arguments>
                        </source>
                        <arguments xsi:type="ocl:StringExp" location="163:35-163:38" stringSymbol=","/>
                      </elseExpression>
                    </arguments>
                  </body>
                  <iterators location="158:29-158:30" varName="e" variableExp="/0/@elements.16/@definition/@feature/@body/@in_/@source/@arguments.0/@body/@arguments.0/@condition/@source/@source /0/@elements.16/@definition/@feature/@body/@in_/@source/@arguments.0/@body/@arguments.0/@thenExpression/@source/@source/@source /0/@elements.16/@definition/@feature/@body/@in_/@source/@arguments.0/@body/@arguments.0/@thenExpression/@arguments.0/@source/@source /0/@elements.16/@definition/@feature/@body/@in_/@source/@arguments.0/@body/@arguments.0/@elseExpression/@source/@source/@source/@source /0/@elements.16/@definition/@feature/@body/@in_/@source/@arguments.0/@body/@arguments.0/@elseExpression/@source/@arguments.0/@source/@source"/>
                  <result location="158:32-158:48" varName="acc" variableExp="/0/@elements.16/@definition/@feature/@body/@in_/@source/@arguments.0/@body/@source">
                    <type xsi:type="ocl:StringType" location="158:37-158:43"/>
                    <initExpression xsi:type="ocl:StringExp" location="158:46-158:48" stringSymbol=""/>
                  </result>
                </arguments>
              </source>
              <arguments xsi:type="ocl:StringExp" location="165:4-165:7" stringSymbol=")"/>
            </in_>
          </body>
        </feature>
        <context_ location="156:8-156:29">
          <context_ xsi:type="ocl:OclModelElement" location="156:16-156:29" name="Operation" model="/32"/>
        </context_>
      </definition>
    </elements>
    <elements xsi:type="atl:Helper" location="174:1-194:11">
      <commentsBefore>-- relationsList</commentsBefore>
      <commentsBefore>-- This helper is used so as to match a reference only once. Indeed, in </commentsBefore>
      <commentsBefore>-- KM3, if the relation is bidirectionnal, it is referenced in both its</commentsBefore>
      <commentsBefore>-- edge classes.</commentsBefore>
      <commentsBefore>-- It puts the container class the second part of the returned tuple.</commentsBefore>
      <commentsBefore>-- IN:	N/A</commentsBefore>
      <commentsBefore>-- OUT:	Sequence(Tuple (reference, opposite reference))</commentsBefore>
      <commentsAfter>-- END HELPERS</commentsAfter>
      <commentsAfter>-- RULES</commentsAfter>
      <commentsAfter>-- Metamodel2Graph</commentsAfter>
      <commentsAfter>-- Transforms a KM3 Metamodel element into a DOT oriented graph element,</commentsAfter>
      <commentsAfter>-- using many parameters defined at the beginning of this transformation.</commentsAfter>
      <commentsAfter>-- The Graph elements contains then contents of the KM3 Metamodel element.</commentsAfter>
      <definition location="174:8-194:10">
        <feature xsi:type="ocl:Attribute" location="174:13-194:10" name="relationsList">
          <initExpression xsi:type="ocl:LetExp" location="176:2-194:10">
            <variable location="176:6-178:31" varName="references" variableExp="/0/@elements.17/@definition/@feature/@initExpression/@in_/@source">
              <type xsi:type="ocl:SequenceType" location="176:18-176:41">
                <elementType xsi:type="ocl:OclModelElement" location="176:27-176:40" name="Reference" model="/37"/>
              </type>
              <initExpression xsi:type="ocl:IteratorExp" location="176:44-178:31" name="reject">
                <source xsi:type="ocl:OperationCallExp" location="176:44-176:72" operationName="allInstances">
                  <source xsi:type="ocl:OclModelElement" location="176:44-176:57" name="Reference" model="/38"/>
                </source>
                <body xsi:type="ocl:OperationCallExp" location="178:3-178:30" operationName="oclIsUndefined">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="178:3-178:13" name="opposite">
                    <source xsi:type="ocl:VariableExp" location="178:3-178:4" referredVariable="/0/@elements.17/@definition/@feature/@initExpression/@variable/@initExpression/@iterators.0"/>
                  </source>
                </body>
                <iterators location="177:10-177:11" varName="e" variableExp="/0/@elements.17/@definition/@feature/@initExpression/@variable/@initExpression/@body/@source/@source"/>
              </initExpression>
            </variable>
            <in_ xsi:type="ocl:IterateExp" location="179:2-194:10">
              <source xsi:type="ocl:VariableExp" location="179:2-179:12" referredVariable="/0/@elements.17/@definition/@feature/@initExpression/@variable"/>
              <body xsi:type="ocl:IfExp" location="182:4-194:9">
                <thenExpression xsi:type="ocl:IfExp" location="183:5-191:10">
                  <thenExpression xsi:type="ocl:IfExp" location="184:6-188:11">
                    <thenExpression xsi:type="ocl:CollectionOperationCallExp" location="185:7-185:57" operationName="append">
                      <source xsi:type="ocl:VariableExp" location="185:7-185:10" referredVariable="/0/@elements.17/@definition/@feature/@initExpression/@in_/@result"/>
                      <arguments xsi:type="ocl:TupleExp" location="185:19-185:56">
                        <tuplePart location="185:25-185:32" varName="ref">
                          <initExpression xsi:type="ocl:VariableExp" location="185:31-185:32" referredVariable="/0/@elements.17/@definition/@feature/@initExpression/@in_/@iterators.0"/>
                        </tuplePart>
                        <tuplePart location="185:34-185:55" varName="opposite">
                          <initExpression xsi:type="ocl:NavigationOrAttributeCallExp" location="185:45-185:55" name="opposite">
                            <source xsi:type="ocl:VariableExp" location="185:45-185:46" referredVariable="/0/@elements.17/@definition/@feature/@initExpression/@in_/@iterators.0"/>
                          </initExpression>
                        </tuplePart>
                      </arguments>
                    </thenExpression>
                    <condition xsi:type="ocl:NavigationOrAttributeCallExp" location="184:9-184:31" name="isContainer">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" location="184:9-184:19" name="opposite">
                        <source xsi:type="ocl:VariableExp" location="184:9-184:10" referredVariable="/0/@elements.17/@definition/@feature/@initExpression/@in_/@iterators.0"/>
                      </source>
                    </condition>
                    <elseExpression xsi:type="ocl:CollectionOperationCallExp" location="187:7-187:57" operationName="append">
                      <source xsi:type="ocl:VariableExp" location="187:7-187:10" referredVariable="/0/@elements.17/@definition/@feature/@initExpression/@in_/@result"/>
                      <arguments xsi:type="ocl:TupleExp" location="187:19-187:56">
                        <tuplePart location="187:25-187:41" varName="ref">
                          <initExpression xsi:type="ocl:NavigationOrAttributeCallExp" location="187:31-187:41" name="opposite">
                            <source xsi:type="ocl:VariableExp" location="187:31-187:32" referredVariable="/0/@elements.17/@definition/@feature/@initExpression/@in_/@iterators.0"/>
                          </initExpression>
                        </tuplePart>
                        <tuplePart location="187:43-187:55" varName="opposite">
                          <initExpression xsi:type="ocl:VariableExp" location="187:54-187:55" referredVariable="/0/@elements.17/@definition/@feature/@initExpression/@in_/@iterators.0"/>
                        </tuplePart>
                      </arguments>
                    </elseExpression>
                  </thenExpression>
                  <condition xsi:type="ocl:CollectionOperationCallExp" location="183:8-183:60" operationName="excludes">
                    <source xsi:type="ocl:VariableExp" location="183:8-183:11" referredVariable="/0/@elements.17/@definition/@feature/@initExpression/@in_/@result"/>
                    <arguments xsi:type="ocl:TupleExp" location="183:22-183:59">
                      <tuplePart location="183:28-183:44" varName="ref">
                        <initExpression xsi:type="ocl:NavigationOrAttributeCallExp" location="183:34-183:44" name="opposite">
                          <source xsi:type="ocl:VariableExp" location="183:34-183:35" referredVariable="/0/@elements.17/@definition/@feature/@initExpression/@in_/@iterators.0"/>
                        </initExpression>
                      </tuplePart>
                      <tuplePart location="183:46-183:58" varName="opposite">
                        <initExpression xsi:type="ocl:VariableExp" location="183:57-183:58" referredVariable="/0/@elements.17/@definition/@feature/@initExpression/@in_/@iterators.0"/>
                      </tuplePart>
                    </arguments>
                  </condition>
                  <elseExpression xsi:type="ocl:VariableExp" location="190:6-190:9" referredVariable="/0/@elements.17/@definition/@feature/@initExpression/@in_/@result"/>
                </thenExpression>
                <condition xsi:type="ocl:CollectionOperationCallExp" location="182:7-182:59" operationName="excludes">
                  <source xsi:type="ocl:VariableExp" location="182:7-182:10" referredVariable="/0/@elements.17/@definition/@feature/@initExpression/@in_/@result"/>
                  <arguments xsi:type="ocl:TupleExp" location="182:21-182:58">
                    <tuplePart location="182:27-182:34" varName="ref">
                      <initExpression xsi:type="ocl:VariableExp" location="182:33-182:34" referredVariable="/0/@elements.17/@definition/@feature/@initExpression/@in_/@iterators.0"/>
                    </tuplePart>
                    <tuplePart location="182:36-182:57" varName="opposite">
                      <initExpression xsi:type="ocl:NavigationOrAttributeCallExp" location="182:47-182:57" name="opposite">
                        <source xsi:type="ocl:VariableExp" location="182:47-182:48" referredVariable="/0/@elements.17/@definition/@feature/@initExpression/@in_/@iterators.0"/>
                      </initExpression>
                    </tuplePart>
                  </arguments>
                </condition>
                <elseExpression xsi:type="ocl:VariableExp" location="193:5-193:8" referredVariable="/0/@elements.17/@definition/@feature/@initExpression/@in_/@result"/>
              </body>
              <iterators location="179:23-179:24" varName="e" variableExp="/0/@elements.17/@definition/@feature/@initExpression/@in_/@body/@condition/@arguments.0/@tuplePart.0/@initExpression /0/@elements.17/@definition/@feature/@initExpression/@in_/@body/@condition/@arguments.0/@tuplePart.1/@initExpression/@source /0/@elements.17/@definition/@feature/@initExpression/@in_/@body/@thenExpression/@condition/@arguments.0/@tuplePart.0/@initExpression/@source /0/@elements.17/@definition/@feature/@initExpression/@in_/@body/@thenExpression/@condition/@arguments.0/@tuplePart.1/@initExpression /0/@elements.17/@definition/@feature/@initExpression/@in_/@body/@thenExpression/@thenExpression/@condition/@source/@source /0/@elements.17/@definition/@feature/@initExpression/@in_/@body/@thenExpression/@thenExpression/@thenExpression/@arguments.0/@tuplePart.0/@initExpression /0/@elements.17/@definition/@feature/@initExpression/@in_/@body/@thenExpression/@thenExpression/@thenExpression/@arguments.0/@tuplePart.1/@initExpression/@source /0/@elements.17/@definition/@feature/@initExpression/@in_/@body/@thenExpression/@thenExpression/@elseExpression/@arguments.0/@tuplePart.0/@initExpression/@source /0/@elements.17/@definition/@feature/@initExpression/@in_/@body/@thenExpression/@thenExpression/@elseExpression/@arguments.0/@tuplePart.1/@initExpression"/>
              <result location="180:3-181:13" varName="acc" variableExp="/0/@elements.17/@definition/@feature/@initExpression/@in_/@body/@condition/@source /0/@elements.17/@definition/@feature/@initExpression/@in_/@body/@thenExpression/@condition/@source /0/@elements.17/@definition/@feature/@initExpression/@in_/@body/@thenExpression/@thenExpression/@thenExpression/@source /0/@elements.17/@definition/@feature/@initExpression/@in_/@body/@thenExpression/@thenExpression/@elseExpression/@source /0/@elements.17/@definition/@feature/@initExpression/@in_/@body/@thenExpression/@elseExpression /0/@elements.17/@definition/@feature/@initExpression/@in_/@body/@elseExpression">
                <type xsi:type="ocl:SequenceType" location="180:8-180:72">
                  <elementType xsi:type="ocl:TupleType" location="180:17-180:71">
                    <attributes location="180:27-180:45" name="ref">
                      <type xsi:type="ocl:OclModelElement" location="180:32-180:45" name="Reference" model="/39"/>
                    </attributes>
                    <attributes location="180:47-180:70" name="opposite">
                      <type xsi:type="ocl:OclModelElement" location="180:57-180:70" name="Reference" model="/40"/>
                    </attributes>
                  </elementType>
                </type>
                <initExpression xsi:type="ocl:SequenceExp" location="181:3-181:13"/>
              </result>
            </in_>
          </initExpression>
          <type xsi:type="ocl:SequenceType" location="174:28-175:58">
            <elementType xsi:type="ocl:TupleType" location="175:2-175:57">
              <attributes location="175:12-175:30" name="ref">
                <type xsi:type="ocl:OclModelElement" location="175:17-175:30" name="Reference" model="/35"/>
              </attributes>
              <attributes location="175:32-175:56" name="opposite">
                <type xsi:type="ocl:OclModelElement" location="175:43-175:56" name="Reference" model="/36"/>
              </attributes>
            </elementType>
          </type>
        </feature>
      </definition>
    </elements>
    <elements xsi:type="atl:MatchedRule" location="202:1-218:2" name="Metamodel2Graph">
      <commentsBefore>-- END HELPERS</commentsBefore>
      <commentsBefore>-- RULES</commentsBefore>
      <commentsBefore>-- Metamodel2Graph</commentsBefore>
      <commentsBefore>-- Transforms a KM3 Metamodel element into a DOT oriented graph element,</commentsBefore>
      <commentsBefore>-- using many parameters defined at the beginning of this transformation.</commentsBefore>
      <commentsBefore>-- The Graph elements contains then contents of the KM3 Metamodel element.</commentsBefore>
      <commentsAfter>-- Package</commentsAfter>
      <commentsAfter>-- Transforms a Package into a SubGraph that will be rendered within a </commentsAfter>
      <commentsAfter>-- black box (because its name begins with 'cluster_' and its color is set</commentsAfter>
      <commentsAfter>-- at black). It may contain nodes or subgraphs, dot supports nested </commentsAfter>
      <commentsAfter>-- subgraphs, and KM3 supports nested packages.</commentsAfter>
      <outPattern location="205:2-217:4">
        <elements xsi:type="atl:SimpleOutPatternElement" location="206:3-217:4" varName="out">
          <type xsi:type="ocl:OclModelElement" location="206:8-206:17" name="Graph" model="/42"/>
          <bindings location="207:4-207:21" propertyName="type">
            <value xsi:type="ocl:StringExp" location="207:12-207:21" stringSymbol="digraph"/>
          </bindings>
          <bindings location="208:4-208:30" propertyName="name">
            <value xsi:type="ocl:StringExp" location="208:12-208:30" stringSymbol="KM3 Model in DOT"/>
          </bindings>
          <bindings location="209:4-209:44" propertyName="rankDir">
            <value xsi:type="ocl:OperationCallExp" location="209:15-209:44" operationName="RankingDirection">
              <source xsi:type="ocl:VariableExp" location="209:15-209:25" referredVariable="/43"/>
            </value>
          </bindings>
          <bindings location="210:4-210:48" propertyName="labeljust">
            <value xsi:type="ocl:OperationCallExp" location="210:17-210:48" operationName="LabelJustification">
              <source xsi:type="ocl:VariableExp" location="210:17-210:27" referredVariable="/44"/>
            </value>
          </bindings>
          <bindings location="211:4-211:42" propertyName="labelloc">
            <value xsi:type="ocl:OperationCallExp" location="211:16-211:42" operationName="LabelLocation">
              <source xsi:type="ocl:VariableExp" location="211:16-211:26" referredVariable="/45"/>
            </value>
          </bindings>
          <bindings location="212:4-212:20" propertyName="compound">
            <value xsi:type="ocl:BooleanExp" location="212:16-212:20" booleanSymbol="true"/>
          </bindings>
          <bindings location="213:4-214:30" propertyName="concentrate">
            <value xsi:type="ocl:OperatorCallExp" location="213:19-214:30" operationName="and">
              <source xsi:type="ocl:OperationCallExp" location="213:19-213:59" operationName="DiagramMode">
                <source xsi:type="ocl:VariableExp" location="213:19-213:29" referredVariable="/46"/>
                <arguments xsi:type="ocl:StringExp" location="213:42-213:58" stringSymbol="Generalization"/>
              </source>
              <arguments xsi:type="ocl:OperatorCallExp" location="214:4-214:30" operationName="not">
                <source xsi:type="ocl:OperationCallExp" location="214:8-214:30" operationName="Invisible">
                  <source xsi:type="ocl:VariableExp" location="214:8-214:18" referredVariable="/47"/>
                </source>
              </arguments>
            </value>
          </bindings>
          <bindings location="215:4-215:56" propertyName="nodeSeparation">
            <value xsi:type="ocl:OperationCallExp" location="215:22-215:56" operationName="MinimumNodeSeparation">
              <source xsi:type="ocl:VariableExp" location="215:22-215:32" referredVariable="/48"/>
            </value>
          </bindings>
          <bindings location="216:4-216:23" propertyName="nodes">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="216:13-216:23" name="contents">
              <source xsi:type="ocl:VariableExp" location="216:13-216:14" referredVariable="/0/@elements.18/@inPattern/@elements.0"/>
            </value>
          </bindings>
        </elements>
      </outPattern>
      <inPattern location="203:2-204:19">
        <elements xsi:type="atl:SimpleInPatternElement" location="204:3-204:19" varName="m" variableExp="/0/@elements.18/@outPattern/@elements.0/@bindings.8/@value/@source">
          <type xsi:type="ocl:OclModelElement" location="204:6-204:19" name="Metamodel" model="/41"/>
        </elements>
      </inPattern>
    </elements>
    <elements xsi:type="atl:MatchedRule" location="225:1-239:2" name="Package">
      <commentsBefore>-- Package</commentsBefore>
      <commentsBefore>-- Transforms a Package into a SubGraph that will be rendered within a </commentsBefore>
      <commentsBefore>-- black box (because its name begins with 'cluster_' and its color is set</commentsBefore>
      <commentsBefore>-- at black). It may contain nodes or subgraphs, dot supports nested </commentsBefore>
      <commentsBefore>-- subgraphs, and KM3 supports nested packages.</commentsBefore>
      <commentsAfter>-- Datatypes</commentsAfter>
      <commentsAfter>-- Transforms a Datatype into a Record Node using the datatype header</commentsAfter>
      <outPattern location="228:2-238:4">
        <elements xsi:type="atl:SimpleOutPatternElement" location="229:3-235:4" varName="out">
          <type xsi:type="ocl:OclModelElement" location="229:8-229:20" name="SubGraph" model="/50"/>
          <bindings location="230:4-230:31" propertyName="name">
            <value xsi:type="ocl:OperatorCallExp" location="230:12-230:31" operationName="+">
              <source xsi:type="ocl:StringExp" location="230:12-230:22" stringSymbol="cluster_"/>
              <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="230:25-230:31" name="name">
                <source xsi:type="ocl:VariableExp" location="230:25-230:26" referredVariable="/0/@elements.19/@inPattern/@elements.0"/>
              </arguments>
            </value>
          </bindings>
          <bindings location="231:4-231:26" propertyName="label">
            <value xsi:type="ocl:VariableExp" location="231:13-231:26" referredVariable="/0/@elements.19/@outPattern/@elements.1"/>
          </bindings>
          <bindings location="232:4-232:20" propertyName="color">
            <value xsi:type="ocl:StringExp" location="232:13-232:20" stringSymbol="black"/>
          </bindings>
          <bindings location="233:4-233:42" propertyName="labelloc">
            <value xsi:type="ocl:OperationCallExp" location="233:16-233:42" operationName="LabelLocation">
              <source xsi:type="ocl:VariableExp" location="233:16-233:26" referredVariable="/51"/>
            </value>
          </bindings>
          <bindings location="234:4-234:23" propertyName="nodes">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="234:13-234:23" name="contents">
              <source xsi:type="ocl:VariableExp" location="234:13-234:14" referredVariable="/0/@elements.19/@inPattern/@elements.0"/>
            </value>
          </bindings>
        </elements>
        <elements xsi:type="atl:SimpleOutPatternElement" location="236:3-238:4" varName="SubGraphLabel" variableExp="/0/@elements.19/@outPattern/@elements.0/@bindings.1/@value">
          <type xsi:type="ocl:OclModelElement" location="236:18-236:33" name="SimpleLabel" model="/52"/>
          <bindings location="237:4-237:21" propertyName="content">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="237:15-237:21" name="name">
              <source xsi:type="ocl:VariableExp" location="237:15-237:16" referredVariable="/0/@elements.19/@inPattern/@elements.0"/>
            </value>
          </bindings>
        </elements>
      </outPattern>
      <inPattern location="226:2-227:17">
        <elements xsi:type="atl:SimpleInPatternElement" location="227:3-227:17" varName="p" variableExp="/0/@elements.19/@outPattern/@elements.0/@bindings.0/@value/@arguments.0/@source /0/@elements.19/@outPattern/@elements.0/@bindings.4/@value/@source /0/@elements.19/@outPattern/@elements.1/@bindings.0/@value/@source">
          <type xsi:type="ocl:OclModelElement" location="227:6-227:17" name="Package" model="/49"/>
        </elements>
      </inPattern>
    </elements>
    <elements xsi:type="atl:MatchedRule" location="243:1-258:2" name="Datatypes">
      <commentsBefore>-- Datatypes</commentsBefore>
      <commentsBefore>-- Transforms a Datatype into a Record Node using the datatype header</commentsBefore>
      <commentsAfter>-- ClassWithSupertypesGeneralizationsDrawn2Node</commentsAfter>
      <commentsAfter>-- Transforms a class into a node, and creates the generalization arcs</commentsAfter>
      <commentsAfter>-- foreach superclass</commentsAfter>
      <outPattern location="246:2-257:4">
        <elements xsi:type="atl:SimpleOutPatternElement" location="247:3-250:4" varName="out">
          <type xsi:type="ocl:OclModelElement" location="247:8-247:16" name="Node" model="/54"/>
          <bindings location="248:4-248:18" propertyName="name">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="248:12-248:18" name="name">
              <source xsi:type="ocl:VariableExp" location="248:12-248:13" referredVariable="/0/@elements.20/@inPattern/@elements.0"/>
            </value>
          </bindings>
          <bindings location="249:4-249:22" propertyName="shape">
            <value xsi:type="ocl:VariableExp" location="249:13-249:22" referredVariable="/0/@elements.20/@outPattern/@elements.1"/>
          </bindings>
        </elements>
        <elements xsi:type="atl:SimpleOutPatternElement" location="251:3-254:4" varName="NodeShape" variableExp="/0/@elements.20/@outPattern/@elements.0/@bindings.1/@value">
          <type xsi:type="ocl:OclModelElement" location="251:14-251:33" name="RecordNodeShape" model="/55"/>
          <bindings location="252:4-252:20" propertyName="name">
            <value xsi:type="ocl:StringExp" location="252:12-252:20" stringSymbol="record"/>
          </bindings>
          <bindings location="253:4-253:22" propertyName="label">
            <value xsi:type="ocl:VariableExp" location="253:13-253:22" referredVariable="/0/@elements.20/@outPattern/@elements.2"/>
          </bindings>
        </elements>
        <elements xsi:type="atl:SimpleOutPatternElement" location="255:3-257:4" varName="NodeLabel" variableExp="/0/@elements.20/@outPattern/@elements.1/@bindings.1/@value">
          <type xsi:type="ocl:OclModelElement" location="255:14-255:29" name="SimpleLabel" model="/56"/>
          <bindings location="256:4-256:53" propertyName="content">
            <value xsi:type="ocl:OperatorCallExp" location="256:15-256:53" operationName="+">
              <source xsi:type="ocl:OperatorCallExp" location="256:15-256:47" operationName="+">
                <source xsi:type="ocl:OperatorCallExp" location="256:15-256:40" operationName="+">
                  <source xsi:type="ocl:StringExp" location="256:15-256:18" stringSymbol="{"/>
                  <arguments xsi:type="ocl:OperationCallExp" location="256:21-256:40" operationName="getDataTypeHead">
                    <source xsi:type="ocl:VariableExp" location="256:21-256:22" referredVariable="/0/@elements.20/@inPattern/@elements.0"/>
                  </arguments>
                </source>
                <arguments xsi:type="ocl:StringExp" location="256:44-256:47" stringSymbol="|"/>
              </source>
              <arguments xsi:type="ocl:StringExp" location="256:50-256:53" stringSymbol="}"/>
            </value>
          </bindings>
        </elements>
      </outPattern>
      <inPattern location="244:2-245:18">
        <elements xsi:type="atl:SimpleInPatternElement" location="245:3-245:18" varName="d" variableExp="/0/@elements.20/@outPattern/@elements.0/@bindings.0/@value/@source /0/@elements.20/@outPattern/@elements.2/@bindings.0/@value/@source/@source/@arguments.0/@source">
          <type xsi:type="ocl:OclModelElement" location="245:6-245:18" name="DataType" model="/53"/>
        </elements>
      </inPattern>
    </elements>
    <elements xsi:type="atl:MatchedRule" location="263:1-302:2" name="ClassWithSupertypesGeneralizationsDrawn2Node">
      <commentsBefore>-- ClassWithSupertypesGeneralizationsDrawn2Node</commentsBefore>
      <commentsBefore>-- Transforms a class into a node, and creates the generalization arcs</commentsBefore>
      <commentsBefore>-- foreach superclass</commentsBefore>
      <commentsAfter>-- ClassWithSupertypesGeneralizationsNotDrawn2Node</commentsAfter>
      <commentsAfter>-- Transforms a class into a node, and does not create the generalization </commentsAfter>
      <commentsAfter>-- arcs either because it has no superclass, or because the parameters set </commentsAfter>
      <commentsAfter>-- for the transformation imply not drawing any generalization arc</commentsAfter>
      <outPattern location="271:2-301:4">
        <elements xsi:type="atl:SimpleOutPatternElement" location="272:3-277:4" varName="out">
          <type xsi:type="ocl:OclModelElement" location="272:8-272:16" name="Node" model="/61"/>
          <bindings location="273:4-273:18" propertyName="name">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="273:12-273:18" name="name">
              <source xsi:type="ocl:VariableExp" location="273:12-273:13" referredVariable="/0/@elements.21/@inPattern/@elements.0"/>
            </value>
          </bindings>
          <bindings location="274:4-274:22" propertyName="shape">
            <value xsi:type="ocl:VariableExp" location="274:13-274:22" referredVariable="/0/@elements.21/@outPattern/@elements.1"/>
          </bindings>
          <bindings location="275:4-276:62" propertyName="refers">
            <value xsi:type="ocl:CollectionOperationCallExp" location="275:14-276:62" operationName="append">
              <source xsi:type="ocl:SequenceExp" location="275:14-276:36">
                <elements xsi:type="ocl:IteratorExp" location="275:24-276:35" name="select">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="275:24-275:44" name="structuralFeatures">
                    <source xsi:type="ocl:VariableExp" location="275:24-275:25" referredVariable="/0/@elements.21/@inPattern/@elements.0"/>
                  </source>
                  <body xsi:type="ocl:OperationCallExp" location="276:6-276:34" operationName="oclIsKindOf">
                    <source xsi:type="ocl:VariableExp" location="276:6-276:7" referredVariable="/0/@elements.21/@outPattern/@elements.0/@bindings.2/@value/@source/@elements.0/@iterators.0"/>
                    <arguments xsi:type="ocl:OclModelElement" location="276:20-276:33" name="Reference" model="/62"/>
                  </body>
                  <iterators location="275:54-275:55" varName="e" variableExp="/0/@elements.21/@outPattern/@elements.0/@bindings.2/@value/@source/@elements.0/@body/@source"/>
                </elements>
              </source>
              <arguments xsi:type="ocl:VariableExp" location="276:45-276:61" referredVariable="/0/@elements.21/@outPattern/@elements.3"/>
            </value>
          </bindings>
        </elements>
        <elements xsi:type="atl:SimpleOutPatternElement" location="278:3-281:4" varName="nodeShape" variableExp="/0/@elements.21/@outPattern/@elements.0/@bindings.1/@value">
          <type xsi:type="ocl:OclModelElement" location="278:14-278:33" name="RecordNodeShape" model="/63"/>
          <bindings location="279:4-279:20" propertyName="name">
            <value xsi:type="ocl:StringExp" location="279:12-279:20" stringSymbol="record"/>
          </bindings>
          <bindings location="280:4-280:22" propertyName="label">
            <value xsi:type="ocl:VariableExp" location="280:13-280:22" referredVariable="/0/@elements.21/@outPattern/@elements.2"/>
          </bindings>
        </elements>
        <elements xsi:type="atl:SimpleOutPatternElement" location="282:3-284:4" varName="NodeLabel" variableExp="/0/@elements.21/@outPattern/@elements.1/@bindings.1/@value">
          <type xsi:type="ocl:OclModelElement" location="282:15-282:30" name="SimpleLabel" model="/64"/>
          <bindings location="283:4-283:27" propertyName="content">
            <value xsi:type="ocl:OperationCallExp" location="283:15-283:27" operationName="getLabel">
              <source xsi:type="ocl:VariableExp" location="283:15-283:16" referredVariable="/0/@elements.21/@inPattern/@elements.0"/>
            </value>
          </bindings>
        </elements>
        <elements xsi:type="atl:ForEachOutPatternElement" location="285:3-296:4" varName="supertypeClasses" variableExp="/0/@elements.21/@outPattern/@elements.0/@bindings.2/@value/@arguments.0">
          <type xsi:type="ocl:OclModelElement" location="285:30-285:45" name="DirectedArc" model="/65"/>
          <bindings location="287:4-288:39" propertyName="constraint">
            <value xsi:type="ocl:OperatorCallExp" location="287:19-288:38" operationName="or">
              <source xsi:type="ocl:OperatorCallExp" location="287:19-287:62" operationName="=">
                <source xsi:type="ocl:OperationCallExp" location="287:19-287:43" operationName="DiagramType">
                  <source xsi:type="ocl:VariableExp" location="287:19-287:29" referredVariable="/66"/>
                </source>
                <arguments xsi:type="ocl:StringExp" location="287:46-287:62" stringSymbol="Generalization"/>
              </source>
              <arguments xsi:type="ocl:OperatorCallExp" location="288:5-288:38" operationName="=">
                <source xsi:type="ocl:OperationCallExp" location="288:5-288:29" operationName="DiagramType">
                  <source xsi:type="ocl:VariableExp" location="288:5-288:15" referredVariable="/67"/>
                </source>
                <arguments xsi:type="ocl:StringExp" location="288:32-288:38" stringSymbol="None"/>
              </arguments>
            </value>
          </bindings>
          <bindings location="289:4-290:64" propertyName="style">
            <value xsi:type="ocl:IfExp" location="289:13-290:64">
              <thenExpression xsi:type="ocl:StringExp" location="290:39-290:45" stringSymbol="none"/>
              <condition xsi:type="ocl:OperatorCallExp" location="289:16-290:33" operationName="or">
                <source xsi:type="ocl:OperationCallExp" location="289:16-289:56" operationName="DiagramMode">
                  <source xsi:type="ocl:VariableExp" location="289:16-289:26" referredVariable="/68"/>
                  <arguments xsi:type="ocl:StringExp" location="289:39-289:55" stringSymbol="Generalization"/>
                </source>
                <arguments xsi:type="ocl:OperationCallExp" location="290:4-290:33" operationName="DiagramMode">
                  <source xsi:type="ocl:VariableExp" location="290:4-290:14" referredVariable="/69"/>
                  <arguments xsi:type="ocl:StringExp" location="290:27-290:32" stringSymbol="All"/>
                </arguments>
              </condition>
              <elseExpression xsi:type="ocl:StringExp" location="290:51-290:58" stringSymbol="invis"/>
            </value>
          </bindings>
          <bindings location="291:4-291:17" propertyName="fromNode">
            <value xsi:type="ocl:VariableExp" location="291:16-291:17" referredVariable="/0/@elements.21/@inPattern/@elements.0"/>
          </bindings>
          <bindings location="292:4-292:20" propertyName="toNode">
            <value xsi:type="ocl:VariableExp" location="292:14-292:20" referredVariable="/0/@elements.21/@outPattern/@elements.3/@iterator"/>
          </bindings>
          <bindings location="293:4-293:24" propertyName="group">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="293:13-293:24" name="name">
              <source xsi:type="ocl:VariableExp" location="293:13-293:19" referredVariable="/0/@elements.21/@outPattern/@elements.3/@iterator"/>
            </value>
          </bindings>
          <bindings location="294:4-294:43" propertyName="minlen">
            <value xsi:type="ocl:OperationCallExp" location="294:14-294:43" operationName="MinimumArcLength">
              <source xsi:type="ocl:VariableExp" location="294:14-294:24" referredVariable="/70"/>
            </value>
          </bindings>
          <bindings location="295:4-295:31" propertyName="arrowHead">
            <value xsi:type="ocl:VariableExp" location="295:17-295:31" referredVariable="/0/@elements.21/@outPattern/@elements.4"/>
          </bindings>
          <collection xsi:type="ocl:NavigationOrAttributeCallExp" location="286:21-286:33" name="supertypes">
            <source xsi:type="ocl:VariableExp" location="286:21-286:22" referredVariable="/0/@elements.21/@inPattern/@elements.0"/>
          </collection>
          <iterator location="286:11-286:17" varName="super_" variableExp="/0/@elements.21/@outPattern/@elements.3/@bindings.3/@value /0/@elements.21/@outPattern/@elements.3/@bindings.4/@value/@source"/>
        </elements>
        <elements xsi:type="atl:ForEachOutPatternElement" location="297:3-301:4" varName="arrowHeadShape" variableExp="/0/@elements.21/@outPattern/@elements.3/@bindings.6/@value">
          <type xsi:type="ocl:OclModelElement" location="297:28-297:42" name="ArrowShape" model="/71"/>
          <bindings location="299:4-299:20" propertyName="name">
            <value xsi:type="ocl:StringExp" location="299:12-299:20" stringSymbol="normal"/>
          </bindings>
          <bindings location="300:4-300:19" propertyName="isPlain">
            <value xsi:type="ocl:BooleanExp" location="300:15-300:19" booleanSymbol="true"/>
          </bindings>
          <collection xsi:type="ocl:NavigationOrAttributeCallExp" location="298:21-298:33" name="supertypes">
            <source xsi:type="ocl:VariableExp" location="298:21-298:22" referredVariable="/0/@elements.21/@inPattern/@elements.0"/>
          </collection>
          <iterator location="298:11-298:17" varName="super_"/>
        </elements>
      </outPattern>
      <inPattern location="264:2-270:4">
        <elements xsi:type="atl:SimpleInPatternElement" location="265:3-265:15" varName="c" variableExp="/0/@elements.21/@inPattern/@filter/@source/@source/@source/@source /0/@elements.21/@outPattern/@elements.0/@bindings.0/@value/@source /0/@elements.21/@outPattern/@elements.0/@bindings.2/@value/@source/@elements.0/@source/@source /0/@elements.21/@outPattern/@elements.2/@bindings.0/@value/@source /0/@elements.21/@outPattern/@elements.3/@collection/@source /0/@elements.21/@outPattern/@elements.3/@bindings.2/@value /0/@elements.21/@outPattern/@elements.4/@collection/@source">
          <type xsi:type="ocl:OclModelElement" location="265:6-265:15" name="Class" model="/57"/>
        </elements>
        <filter xsi:type="ocl:OperatorCallExp" location="266:4-269:35" operationName="and">
          <source xsi:type="ocl:OperatorCallExp" location="266:4-266:39" operationName="not">
            <source xsi:type="ocl:CollectionOperationCallExp" location="266:8-266:38" operationName="oclIsUndefined">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="266:8-266:20" name="supertypes">
                <source xsi:type="ocl:VariableExp" location="266:8-266:9" referredVariable="/0/@elements.21/@inPattern/@elements.0"/>
              </source>
            </source>
          </source>
          <arguments xsi:type="ocl:OperatorCallExp" location="267:5-269:34" operationName="or">
            <source xsi:type="ocl:OperationCallExp" location="267:5-267:27" operationName="Invisible">
              <source xsi:type="ocl:VariableExp" location="267:5-267:15" referredVariable="/58"/>
            </source>
            <arguments xsi:type="ocl:OperatorCallExp" location="268:5-269:33" operationName="or">
              <source xsi:type="ocl:OperationCallExp" location="268:5-268:45" operationName="DiagramMode">
                <source xsi:type="ocl:VariableExp" location="268:5-268:15" referredVariable="/59"/>
                <arguments xsi:type="ocl:StringExp" location="268:28-268:44" stringSymbol="Generalization"/>
              </source>
              <arguments xsi:type="ocl:OperationCallExp" location="269:4-269:33" operationName="DiagramMode">
                <source xsi:type="ocl:VariableExp" location="269:4-269:14" referredVariable="/60"/>
                <arguments xsi:type="ocl:StringExp" location="269:27-269:32" stringSymbol="All"/>
              </arguments>
            </arguments>
          </arguments>
        </filter>
      </inPattern>
    </elements>
    <elements xsi:type="atl:MatchedRule" location="308:1-331:2" name="ClassWithSupertypesGeneralizationsNotDrawn2Node">
      <commentsBefore>-- ClassWithSupertypesGeneralizationsNotDrawn2Node</commentsBefore>
      <commentsBefore>-- Transforms a class into a node, and does not create the generalization </commentsBefore>
      <commentsBefore>-- arcs either because it has no superclass, or because the parameters set </commentsBefore>
      <commentsBefore>-- for the transformation imply not drawing any generalization arc</commentsBefore>
      <commentsAfter>-- Reference2OneWayArc</commentsAfter>
      <commentsAfter>-- Transforms a one way reference into a unidirectional arc, with the</commentsAfter>
      <commentsAfter>-- proper arrowhead and arrowtail (there may be one way compositions for</commentsAfter>
      <commentsAfter>-- instance), and with its role and multiplicity</commentsAfter>
      <outPattern location="317:2-330:4">
        <elements xsi:type="atl:SimpleOutPatternElement" location="318:3-323:4" varName="out">
          <type xsi:type="ocl:OclModelElement" location="318:8-318:16" name="Node" model="/76"/>
          <bindings location="319:4-319:18" propertyName="name">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="319:12-319:18" name="name">
              <source xsi:type="ocl:VariableExp" location="319:12-319:13" referredVariable="/0/@elements.22/@inPattern/@elements.0"/>
            </value>
          </bindings>
          <bindings location="320:4-320:22" propertyName="shape">
            <value xsi:type="ocl:VariableExp" location="320:13-320:22" referredVariable="/0/@elements.22/@outPattern/@elements.1"/>
          </bindings>
          <bindings location="321:4-322:36" propertyName="refers">
            <value xsi:type="ocl:SequenceExp" location="321:14-322:36">
              <elements xsi:type="ocl:IteratorExp" location="321:24-322:35" name="select">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="321:24-321:44" name="structuralFeatures">
                  <source xsi:type="ocl:VariableExp" location="321:24-321:25" referredVariable="/0/@elements.22/@inPattern/@elements.0"/>
                </source>
                <body xsi:type="ocl:OperationCallExp" location="322:6-322:34" operationName="oclIsKindOf">
                  <source xsi:type="ocl:VariableExp" location="322:6-322:7" referredVariable="/0/@elements.22/@outPattern/@elements.0/@bindings.2/@value/@elements.0/@iterators.0"/>
                  <arguments xsi:type="ocl:OclModelElement" location="322:20-322:33" name="Reference" model="/77"/>
                </body>
                <iterators location="321:54-321:55" varName="e" variableExp="/0/@elements.22/@outPattern/@elements.0/@bindings.2/@value/@elements.0/@body/@source"/>
              </elements>
            </value>
          </bindings>
        </elements>
        <elements xsi:type="atl:SimpleOutPatternElement" location="324:3-327:4" varName="nodeShape" variableExp="/0/@elements.22/@outPattern/@elements.0/@bindings.1/@value">
          <type xsi:type="ocl:OclModelElement" location="324:14-324:33" name="RecordNodeShape" model="/78"/>
          <bindings location="325:4-325:20" propertyName="name">
            <value xsi:type="ocl:StringExp" location="325:12-325:20" stringSymbol="record"/>
          </bindings>
          <bindings location="326:4-326:22" propertyName="label">
            <value xsi:type="ocl:VariableExp" location="326:13-326:22" referredVariable="/0/@elements.22/@outPattern/@elements.2"/>
          </bindings>
        </elements>
        <elements xsi:type="atl:SimpleOutPatternElement" location="328:3-330:4" varName="NodeLabel" variableExp="/0/@elements.22/@outPattern/@elements.1/@bindings.1/@value">
          <type xsi:type="ocl:OclModelElement" location="328:15-328:30" name="SimpleLabel" model="/79"/>
          <bindings location="329:4-329:27" propertyName="content">
            <value xsi:type="ocl:OperationCallExp" location="329:15-329:27" operationName="getLabel">
              <source xsi:type="ocl:VariableExp" location="329:15-329:16" referredVariable="/0/@elements.22/@inPattern/@elements.0"/>
            </value>
          </bindings>
        </elements>
      </outPattern>
      <inPattern location="309:2-316:4">
        <elements xsi:type="atl:SimpleInPatternElement" location="310:3-310:15" varName="c" variableExp="/0/@elements.22/@inPattern/@filter/@source/@source/@source /0/@elements.22/@inPattern/@filter/@arguments.0/@source/@source/@source/@source /0/@elements.22/@outPattern/@elements.0/@bindings.0/@value/@source /0/@elements.22/@outPattern/@elements.0/@bindings.2/@value/@elements.0/@source/@source /0/@elements.22/@outPattern/@elements.2/@bindings.0/@value/@source">
          <type xsi:type="ocl:OclModelElement" location="310:6-310:15" name="Class" model="/72"/>
        </elements>
        <filter xsi:type="ocl:OperatorCallExp" location="311:4-315:36" operationName="or">
          <source xsi:type="ocl:CollectionOperationCallExp" location="311:4-311:34" operationName="oclIsUndefined">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="311:4-311:16" name="supertypes">
              <source xsi:type="ocl:VariableExp" location="311:4-311:5" referredVariable="/0/@elements.22/@inPattern/@elements.0"/>
            </source>
          </source>
          <arguments xsi:type="ocl:OperatorCallExp" location="312:5-315:35" operationName="and">
            <source xsi:type="ocl:OperatorCallExp" location="312:5-312:40" operationName="not">
              <source xsi:type="ocl:CollectionOperationCallExp" location="312:9-312:39" operationName="oclIsUndefined">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="312:9-312:21" name="supertypes">
                  <source xsi:type="ocl:VariableExp" location="312:9-312:10" referredVariable="/0/@elements.22/@inPattern/@elements.0"/>
                </source>
              </source>
            </source>
            <arguments xsi:type="ocl:OperatorCallExp" location="313:5-315:34" operationName="or">
              <source xsi:type="ocl:OperationCallExp" location="313:5-313:27" operationName="Invisible">
                <source xsi:type="ocl:VariableExp" location="313:5-313:15" referredVariable="/73"/>
              </source>
              <arguments xsi:type="ocl:OperatorCallExp" location="314:4-315:34" operationName="not">
                <source xsi:type="ocl:OperatorCallExp" location="314:8-315:33" operationName="or">
                  <source xsi:type="ocl:OperationCallExp" location="314:8-314:48" operationName="DiagramMode">
                    <source xsi:type="ocl:VariableExp" location="314:8-314:18" referredVariable="/74"/>
                    <arguments xsi:type="ocl:StringExp" location="314:31-314:47" stringSymbol="Generalization"/>
                  </source>
                  <arguments xsi:type="ocl:OperationCallExp" location="315:4-315:33" operationName="DiagramMode">
                    <source xsi:type="ocl:VariableExp" location="315:4-315:14" referredVariable="/75"/>
                    <arguments xsi:type="ocl:StringExp" location="315:27-315:32" stringSymbol="All"/>
                  </arguments>
                </source>
              </arguments>
            </arguments>
          </arguments>
        </filter>
      </inPattern>
    </elements>
    <elements xsi:type="atl:MatchedRule" location="337:1-383:2" name="Reference2OneWayArc">
      <commentsBefore>-- Reference2OneWayArc</commentsBefore>
      <commentsBefore>-- Transforms a one way reference into a unidirectional arc, with the</commentsBefore>
      <commentsBefore>-- proper arrowhead and arrowtail (there may be one way compositions for</commentsBefore>
      <commentsBefore>-- instance), and with its role and multiplicity</commentsBefore>
      <commentsAfter>-- Reference2Arc</commentsAfter>
      <commentsAfter>-- Transforms a bidirectional reference into a bidirectional arc, with its</commentsAfter>
      <commentsAfter>-- roles, multiplicities and arrowshapes.</commentsAfter>
      <outPattern location="348:2-382:4">
        <elements xsi:type="atl:SimpleOutPatternElement" location="349:3-365:4" varName="out">
          <type xsi:type="ocl:OclModelElement" location="349:8-349:23" name="DirectedArc" model="/85"/>
          <bindings location="350:4-350:23" propertyName="fromNode">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="350:16-350:23" name="owner">
              <source xsi:type="ocl:VariableExp" location="350:16-350:17" referredVariable="/0/@elements.23/@inPattern/@elements.0"/>
            </value>
          </bindings>
          <bindings location="351:4-351:20" propertyName="toNode">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="351:14-351:20" name="type">
              <source xsi:type="ocl:VariableExp" location="351:14-351:15" referredVariable="/0/@elements.23/@inPattern/@elements.0"/>
            </value>
          </bindings>
          <bindings location="352:4-352:31" propertyName="arrowHead">
            <value xsi:type="ocl:VariableExp" location="352:17-352:31" referredVariable="/0/@elements.23/@outPattern/@elements.2"/>
          </bindings>
          <bindings location="353:4-353:31" propertyName="arrowTail">
            <value xsi:type="ocl:VariableExp" location="353:17-353:31" referredVariable="/0/@elements.23/@outPattern/@elements.3"/>
          </bindings>
          <bindings location="354:4-354:24" propertyName="group">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="354:13-354:24" name="name">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="354:13-354:19" name="type">
                <source xsi:type="ocl:VariableExp" location="354:13-354:14" referredVariable="/0/@elements.23/@inPattern/@elements.0"/>
              </source>
            </value>
          </bindings>
          <bindings location="355:4-359:24" propertyName="style">
            <value xsi:type="ocl:IfExp" location="355:13-359:24">
              <thenExpression xsi:type="ocl:StringExp" location="356:45-356:51" stringSymbol="none"/>
              <condition xsi:type="ocl:OperatorCallExp" location="355:16-356:39" operationName="or">
                <source xsi:type="ocl:OperationCallExp" location="355:16-355:45" operationName="DiagramMode">
                  <source xsi:type="ocl:VariableExp" location="355:16-355:26" referredVariable="/86"/>
                  <arguments xsi:type="ocl:StringExp" location="355:39-355:44" stringSymbol="All"/>
                </source>
                <arguments xsi:type="ocl:OperationCallExp" location="356:4-356:39" operationName="DiagramMode">
                  <source xsi:type="ocl:VariableExp" location="356:4-356:14" referredVariable="/87"/>
                  <arguments xsi:type="ocl:StringExp" location="356:27-356:38" stringSymbol="Reference"/>
                </arguments>
              </condition>
              <elseExpression xsi:type="ocl:IfExp" location="357:5-359:18">
                <thenExpression xsi:type="ocl:StringExp" location="358:24-358:30" stringSymbol="none"/>
                <condition xsi:type="ocl:OperatorCallExp" location="357:8-358:18" operationName="and">
                  <source xsi:type="ocl:OperationCallExp" location="357:8-357:45" operationName="DiagramMode">
                    <source xsi:type="ocl:VariableExp" location="357:8-357:18" referredVariable="/88"/>
                    <arguments xsi:type="ocl:StringExp" location="357:31-357:44" stringSymbol="Composition"/>
                  </source>
                  <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="358:5-358:18" name="isContainer">
                    <source xsi:type="ocl:VariableExp" location="358:5-358:6" referredVariable="/0/@elements.23/@inPattern/@elements.0"/>
                  </arguments>
                </condition>
                <elseExpression xsi:type="ocl:StringExp" location="359:5-359:12" stringSymbol="invis"/>
              </elseExpression>
            </value>
          </bindings>
          <bindings location="360:4-360:43" propertyName="minlen">
            <value xsi:type="ocl:OperationCallExp" location="360:14-360:43" operationName="MinimumArcLength">
              <source xsi:type="ocl:VariableExp" location="360:14-360:24" referredVariable="/89"/>
            </value>
          </bindings>
          <bindings location="361:4-361:29" propertyName="headlabel">
            <value xsi:type="ocl:VariableExp" location="361:17-361:29" referredVariable="/0/@elements.23/@outPattern/@elements.1"/>
          </bindings>
          <bindings location="362:4-364:40" propertyName="constraint">
            <value xsi:type="ocl:OperatorCallExp" location="362:19-364:39" operationName="and">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="362:19-362:32" name="isContainer">
                <source xsi:type="ocl:VariableExp" location="362:19-362:20" referredVariable="/0/@elements.23/@inPattern/@elements.0"/>
              </source>
              <arguments xsi:type="ocl:OperatorCallExp" location="363:10-364:38" operationName="or">
                <source xsi:type="ocl:OperatorCallExp" location="363:10-363:50" operationName="=">
                  <source xsi:type="ocl:OperationCallExp" location="363:10-363:34" operationName="DiagramType">
                    <source xsi:type="ocl:VariableExp" location="363:10-363:20" referredVariable="/90"/>
                  </source>
                  <arguments xsi:type="ocl:StringExp" location="363:37-363:50" stringSymbol="Composition"/>
                </source>
                <arguments xsi:type="ocl:OperatorCallExp" location="364:5-364:38" operationName="=">
                  <source xsi:type="ocl:OperationCallExp" location="364:5-364:29" operationName="DiagramType">
                    <source xsi:type="ocl:VariableExp" location="364:5-364:15" referredVariable="/91"/>
                  </source>
                  <arguments xsi:type="ocl:StringExp" location="364:32-364:38" stringSymbol="None"/>
                </arguments>
              </arguments>
            </value>
          </bindings>
        </elements>
        <elements xsi:type="atl:SimpleOutPatternElement" location="366:3-372:4" varName="ArcHeadLabel" variableExp="/0/@elements.23/@outPattern/@elements.0/@bindings.7/@value">
          <type xsi:type="ocl:OclModelElement" location="366:18-366:33" name="SimpleLabel" model="/92"/>
          <bindings location="367:4-371:10" propertyName="content">
            <value xsi:type="ocl:OperatorCallExp" location="367:16-371:10" operationName="+">
              <source xsi:type="ocl:OperatorCallExp" location="367:16-367:44" operationName="+">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="367:16-367:22" name="name">
                  <source xsi:type="ocl:VariableExp" location="367:16-367:17" referredVariable="/0/@elements.23/@inPattern/@elements.0"/>
                </source>
                <arguments xsi:type="ocl:OperationCallExp" location="367:25-367:44" operationName="getMultiplicity">
                  <source xsi:type="ocl:VariableExp" location="367:25-367:26" referredVariable="/0/@elements.23/@inPattern/@elements.0"/>
                </arguments>
              </source>
              <arguments xsi:type="ocl:IfExp" location="367:47-371:10">
                <thenExpression xsi:type="ocl:StringExp" location="368:6-368:17" stringSymbol="{ordered}"/>
                <condition xsi:type="ocl:NavigationOrAttributeCallExp" location="367:50-367:61" name="isOrdered">
                  <source xsi:type="ocl:VariableExp" location="367:50-367:51" referredVariable="/0/@elements.23/@inPattern/@elements.0"/>
                </condition>
                <elseExpression xsi:type="ocl:StringExp" location="370:6-370:8" stringSymbol=""/>
              </arguments>
            </value>
          </bindings>
        </elements>
        <elements xsi:type="atl:SimpleOutPatternElement" location="373:3-377:4" varName="arrowHeadShape" variableExp="/0/@elements.23/@outPattern/@elements.0/@bindings.2/@value">
          <type xsi:type="ocl:OclModelElement" location="373:19-373:33" name="ArrowShape" model="/93"/>
          <bindings location="374:4-374:17" propertyName="name">
            <value xsi:type="ocl:StringExp" location="374:12-374:17" stringSymbol="vee"/>
          </bindings>
          <bindings location="375:4-375:20" propertyName="isPlain">
            <value xsi:type="ocl:BooleanExp" location="375:15-375:20"/>
          </bindings>
          <bindings location="376:4-376:22" propertyName="clipping">
            <value xsi:type="ocl:StringExp" location="376:16-376:22" stringSymbol="none"/>
          </bindings>
        </elements>
        <elements xsi:type="atl:SimpleOutPatternElement" location="378:3-382:4" varName="arrowTailShape" variableExp="/0/@elements.23/@outPattern/@elements.0/@bindings.3/@value">
          <type xsi:type="ocl:OclModelElement" location="378:19-378:33" name="ArrowShape" model="/94"/>
          <bindings location="379:4-379:61" propertyName="name">
            <value xsi:type="ocl:IfExp" location="379:12-379:61">
              <thenExpression xsi:type="ocl:StringExp" location="379:34-379:43" stringSymbol="diamond"/>
              <condition xsi:type="ocl:NavigationOrAttributeCallExp" location="379:15-379:28" name="isContainer">
                <source xsi:type="ocl:VariableExp" location="379:15-379:16" referredVariable="/0/@elements.23/@inPattern/@elements.0"/>
              </condition>
              <elseExpression xsi:type="ocl:StringExp" location="379:49-379:55" stringSymbol="none"/>
            </value>
          </bindings>
          <bindings location="380:4-380:20" propertyName="isPlain">
            <value xsi:type="ocl:BooleanExp" location="380:15-380:20"/>
          </bindings>
          <bindings location="381:4-381:22" propertyName="clipping">
            <value xsi:type="ocl:StringExp" location="381:16-381:22" stringSymbol="none"/>
          </bindings>
        </elements>
      </outPattern>
      <inPattern location="338:2-347:4">
        <elements xsi:type="atl:SimpleInPatternElement" location="339:3-339:19" varName="r" variableExp="/0/@elements.23/@inPattern/@filter/@source/@source/@source /0/@elements.23/@inPattern/@filter/@arguments.0/@arguments.0/@source/@condition/@source /0/@elements.23/@outPattern/@elements.0/@bindings.0/@value/@source /0/@elements.23/@outPattern/@elements.0/@bindings.1/@value/@source /0/@elements.23/@outPattern/@elements.0/@bindings.4/@value/@source/@source /0/@elements.23/@outPattern/@elements.0/@bindings.5/@value/@elseExpression/@condition/@arguments.0/@source /0/@elements.23/@outPattern/@elements.0/@bindings.8/@value/@source/@source /0/@elements.23/@outPattern/@elements.1/@bindings.0/@value/@source/@source/@source /0/@elements.23/@outPattern/@elements.1/@bindings.0/@value/@source/@arguments.0/@source /0/@elements.23/@outPattern/@elements.1/@bindings.0/@value/@arguments.0/@condition/@source /0/@elements.23/@outPattern/@elements.3/@bindings.0/@value/@condition/@source">
          <type xsi:type="ocl:OclModelElement" location="339:6-339:19" name="Reference" model="/80"/>
        </elements>
        <filter xsi:type="ocl:OperatorCallExp" location="340:4-346:35" operationName="and">
          <source xsi:type="ocl:OperationCallExp" location="340:4-340:31" operationName="oclIsUndefined">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="340:4-340:14" name="opposite">
              <source xsi:type="ocl:VariableExp" location="340:4-340:5" referredVariable="/0/@elements.23/@inPattern/@elements.0"/>
            </source>
          </source>
          <arguments xsi:type="ocl:OperatorCallExp" location="341:5-346:34" operationName="or">
            <source xsi:type="ocl:OperationCallExp" location="341:5-341:27" operationName="Invisible">
              <source xsi:type="ocl:VariableExp" location="341:5-341:15" referredVariable="/81"/>
            </source>
            <arguments xsi:type="ocl:OperatorCallExp" location="342:5-346:33" operationName="or">
              <source xsi:type="ocl:IfExp" location="342:5-345:9">
                <thenExpression xsi:type="ocl:OperationCallExp" location="343:5-343:42" operationName="DiagramMode">
                  <source xsi:type="ocl:VariableExp" location="343:5-343:15" referredVariable="/82"/>
                  <arguments xsi:type="ocl:StringExp" location="343:28-343:41" stringSymbol="Composition"/>
                </thenExpression>
                <condition xsi:type="ocl:NavigationOrAttributeCallExp" location="342:8-342:21" name="isContainer">
                  <source xsi:type="ocl:VariableExp" location="342:8-342:9" referredVariable="/0/@elements.23/@inPattern/@elements.0"/>
                </condition>
                <elseExpression xsi:type="ocl:OperationCallExp" location="344:9-344:44" operationName="DiagramMode">
                  <source xsi:type="ocl:VariableExp" location="344:9-344:19" referredVariable="/83"/>
                  <arguments xsi:type="ocl:StringExp" location="344:32-344:43" stringSymbol="Reference"/>
                </elseExpression>
              </source>
              <arguments xsi:type="ocl:OperationCallExp" location="346:4-346:33" operationName="DiagramMode">
                <source xsi:type="ocl:VariableExp" location="346:4-346:14" referredVariable="/84"/>
                <arguments xsi:type="ocl:StringExp" location="346:27-346:32" stringSymbol="All"/>
              </arguments>
            </arguments>
          </arguments>
        </filter>
      </inPattern>
    </elements>
    <elements xsi:type="atl:MatchedRule" location="388:1-449:2" name="Reference2Arc">
      <commentsBefore>-- Reference2Arc</commentsBefore>
      <commentsBefore>-- Transforms a bidirectional reference into a bidirectional arc, with its</commentsBefore>
      <commentsBefore>-- roles, multiplicities and arrowshapes.</commentsBefore>
      <commentsAfter>-- END RULES</commentsAfter>
      <outPattern location="405:2-448:4">
        <elements xsi:type="atl:SimpleOutPatternElement" location="406:3-423:4" varName="out">
          <type xsi:type="ocl:OclModelElement" location="406:8-406:23" name="DirectedArc" model="/101"/>
          <bindings location="407:4-407:23" propertyName="fromNode">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="407:16-407:23" name="owner">
              <source xsi:type="ocl:VariableExp" location="407:16-407:17" referredVariable="/0/@elements.24/@inPattern/@elements.0"/>
            </value>
          </bindings>
          <bindings location="408:4-408:20" propertyName="toNode">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="408:14-408:20" name="type">
              <source xsi:type="ocl:VariableExp" location="408:14-408:15" referredVariable="/0/@elements.24/@inPattern/@elements.0"/>
            </value>
          </bindings>
          <bindings location="409:4-409:24" propertyName="group">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="409:13-409:24" name="name">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="409:13-409:19" name="type">
                <source xsi:type="ocl:VariableExp" location="409:13-409:14" referredVariable="/0/@elements.24/@inPattern/@elements.0"/>
              </source>
            </value>
          </bindings>
          <bindings location="410:4-410:43" propertyName="minlen">
            <value xsi:type="ocl:OperationCallExp" location="410:14-410:43" operationName="MinimumArcLength">
              <source xsi:type="ocl:VariableExp" location="410:14-410:24" referredVariable="/102"/>
            </value>
          </bindings>
          <bindings location="411:4-411:31" propertyName="arrowHead">
            <value xsi:type="ocl:VariableExp" location="411:17-411:31" referredVariable="/0/@elements.24/@outPattern/@elements.3"/>
          </bindings>
          <bindings location="412:4-412:31" propertyName="arrowTail">
            <value xsi:type="ocl:VariableExp" location="412:17-412:31" referredVariable="/0/@elements.24/@outPattern/@elements.4"/>
          </bindings>
          <bindings location="413:4-413:29" propertyName="taillabel">
            <value xsi:type="ocl:VariableExp" location="413:17-413:29" referredVariable="/0/@elements.24/@outPattern/@elements.2"/>
          </bindings>
          <bindings location="414:4-418:24" propertyName="style">
            <value xsi:type="ocl:IfExp" location="414:13-418:24">
              <thenExpression xsi:type="ocl:StringExp" location="415:45-415:51" stringSymbol="none"/>
              <condition xsi:type="ocl:OperatorCallExp" location="414:16-415:39" operationName="or">
                <source xsi:type="ocl:OperationCallExp" location="414:16-414:45" operationName="DiagramMode">
                  <source xsi:type="ocl:VariableExp" location="414:16-414:26" referredVariable="/103"/>
                  <arguments xsi:type="ocl:StringExp" location="414:39-414:44" stringSymbol="All"/>
                </source>
                <arguments xsi:type="ocl:OperationCallExp" location="415:4-415:39" operationName="DiagramMode">
                  <source xsi:type="ocl:VariableExp" location="415:4-415:14" referredVariable="/104"/>
                  <arguments xsi:type="ocl:StringExp" location="415:27-415:38" stringSymbol="Reference"/>
                </arguments>
              </condition>
              <elseExpression xsi:type="ocl:IfExp" location="416:5-418:18">
                <thenExpression xsi:type="ocl:StringExp" location="417:56-417:62" stringSymbol="none"/>
                <condition xsi:type="ocl:OperatorCallExp" location="416:8-417:50" operationName="and">
                  <source xsi:type="ocl:OperationCallExp" location="416:8-416:45" operationName="DiagramMode">
                    <source xsi:type="ocl:VariableExp" location="416:8-416:18" referredVariable="/105"/>
                    <arguments xsi:type="ocl:StringExp" location="416:31-416:44" stringSymbol="Composition"/>
                  </source>
                  <arguments xsi:type="ocl:OperatorCallExp" location="417:10-417:49" operationName="or">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" location="417:10-417:23" name="isContainer">
                      <source xsi:type="ocl:VariableExp" location="417:10-417:11" referredVariable="/0/@elements.24/@inPattern/@elements.0"/>
                    </source>
                    <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="417:27-417:49" name="isContainer">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" location="417:27-417:37" name="opposite">
                        <source xsi:type="ocl:VariableExp" location="417:27-417:28" referredVariable="/0/@elements.24/@inPattern/@elements.0"/>
                      </source>
                    </arguments>
                  </arguments>
                </condition>
                <elseExpression xsi:type="ocl:StringExp" location="418:5-418:12" stringSymbol="invis"/>
              </elseExpression>
            </value>
          </bindings>
          <bindings location="419:4-421:40" propertyName="constraint">
            <value xsi:type="ocl:OperatorCallExp" location="419:19-421:39" operationName="and">
              <source xsi:type="ocl:OperatorCallExp" location="419:20-419:59" operationName="or">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="419:20-419:33" name="isContainer">
                  <source xsi:type="ocl:VariableExp" location="419:20-419:21" referredVariable="/0/@elements.24/@inPattern/@elements.0"/>
                </source>
                <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="419:37-419:59" name="isContainer">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="419:37-419:47" name="opposite">
                    <source xsi:type="ocl:VariableExp" location="419:37-419:38" referredVariable="/0/@elements.24/@inPattern/@elements.0"/>
                  </source>
                </arguments>
              </source>
              <arguments xsi:type="ocl:OperatorCallExp" location="420:6-421:38" operationName="or">
                <source xsi:type="ocl:OperatorCallExp" location="420:6-420:46" operationName="=">
                  <source xsi:type="ocl:OperationCallExp" location="420:6-420:30" operationName="DiagramType">
                    <source xsi:type="ocl:VariableExp" location="420:6-420:16" referredVariable="/106"/>
                  </source>
                  <arguments xsi:type="ocl:StringExp" location="420:33-420:46" stringSymbol="Composition"/>
                </source>
                <arguments xsi:type="ocl:OperatorCallExp" location="421:5-421:38" operationName="=">
                  <source xsi:type="ocl:OperationCallExp" location="421:5-421:29" operationName="DiagramType">
                    <source xsi:type="ocl:VariableExp" location="421:5-421:15" referredVariable="/107"/>
                  </source>
                  <arguments xsi:type="ocl:StringExp" location="421:32-421:38" stringSymbol="None"/>
                </arguments>
              </arguments>
            </value>
          </bindings>
          <bindings location="422:4-422:29" propertyName="headlabel">
            <value xsi:type="ocl:VariableExp" location="422:17-422:29" referredVariable="/0/@elements.24/@outPattern/@elements.1"/>
          </bindings>
        </elements>
        <elements xsi:type="atl:SimpleOutPatternElement" location="424:3-430:4" varName="ArcHeadLabel" variableExp="/0/@elements.24/@outPattern/@elements.0/@bindings.9/@value">
          <type xsi:type="ocl:OclModelElement" location="424:18-424:33" name="SimpleLabel" model="/108"/>
          <bindings location="425:4-429:10" propertyName="content">
            <value xsi:type="ocl:OperatorCallExp" location="425:15-429:10" operationName="+">
              <source xsi:type="ocl:OperatorCallExp" location="425:15-425:43" operationName="+">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="425:15-425:21" name="name">
                  <source xsi:type="ocl:VariableExp" location="425:15-425:16" referredVariable="/0/@elements.24/@inPattern/@elements.0"/>
                </source>
                <arguments xsi:type="ocl:OperationCallExp" location="425:24-425:43" operationName="getMultiplicity">
                  <source xsi:type="ocl:VariableExp" location="425:24-425:25" referredVariable="/0/@elements.24/@inPattern/@elements.0"/>
                </arguments>
              </source>
              <arguments xsi:type="ocl:IfExp" location="425:46-429:10">
                <thenExpression xsi:type="ocl:StringExp" location="426:6-426:17" stringSymbol="{ordered}"/>
                <condition xsi:type="ocl:NavigationOrAttributeCallExp" location="425:49-425:60" name="isOrdered">
                  <source xsi:type="ocl:VariableExp" location="425:49-425:50" referredVariable="/0/@elements.24/@inPattern/@elements.0"/>
                </condition>
                <elseExpression xsi:type="ocl:StringExp" location="428:6-428:8" stringSymbol=""/>
              </arguments>
            </value>
          </bindings>
        </elements>
        <elements xsi:type="atl:SimpleOutPatternElement" location="431:3-438:4" varName="ArcTailLabel" variableExp="/0/@elements.24/@outPattern/@elements.0/@bindings.6/@value">
          <type xsi:type="ocl:OclModelElement" location="431:18-431:33" name="SimpleLabel" model="/109"/>
          <bindings location="432:4-437:10" propertyName="content">
            <value xsi:type="ocl:OperatorCallExp" location="432:15-437:10" operationName="+">
              <source xsi:type="ocl:OperatorCallExp" location="432:15-432:61" operationName="+">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="432:15-432:30" name="name">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="432:15-432:25" name="opposite">
                    <source xsi:type="ocl:VariableExp" location="432:15-432:16" referredVariable="/0/@elements.24/@inPattern/@elements.0"/>
                  </source>
                </source>
                <arguments xsi:type="ocl:OperationCallExp" location="432:33-432:61" operationName="getMultiplicity">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="432:33-432:43" name="opposite">
                    <source xsi:type="ocl:VariableExp" location="432:33-432:34" referredVariable="/0/@elements.24/@inPattern/@elements.0"/>
                  </source>
                </arguments>
              </source>
              <arguments xsi:type="ocl:IfExp" location="433:5-437:10">
                <thenExpression xsi:type="ocl:StringExp" location="434:6-434:17" stringSymbol="{ordered}"/>
                <condition xsi:type="ocl:NavigationOrAttributeCallExp" location="433:8-433:28" name="isOrdered">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="433:8-433:18" name="opposite">
                    <source xsi:type="ocl:VariableExp" location="433:8-433:9" referredVariable="/0/@elements.24/@inPattern/@elements.0"/>
                  </source>
                </condition>
                <elseExpression xsi:type="ocl:StringExp" location="436:6-436:8" stringSymbol=""/>
              </arguments>
            </value>
          </bindings>
        </elements>
        <elements xsi:type="atl:SimpleOutPatternElement" location="439:3-443:4" varName="arrowHeadShape" variableExp="/0/@elements.24/@outPattern/@elements.0/@bindings.4/@value">
          <type xsi:type="ocl:OclModelElement" location="439:19-439:33" name="ArrowShape" model="/110"/>
          <bindings location="440:4-440:70" propertyName="name">
            <value xsi:type="ocl:IfExp" location="440:12-440:70">
              <thenExpression xsi:type="ocl:StringExp" location="440:43-440:52" stringSymbol="diamond"/>
              <condition xsi:type="ocl:NavigationOrAttributeCallExp" location="440:15-440:37" name="isContainer">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="440:15-440:25" name="opposite">
                  <source xsi:type="ocl:VariableExp" location="440:15-440:16" referredVariable="/0/@elements.24/@inPattern/@elements.0"/>
                </source>
              </condition>
              <elseExpression xsi:type="ocl:StringExp" location="440:58-440:64" stringSymbol="none"/>
            </value>
          </bindings>
          <bindings location="441:4-441:20" propertyName="isPlain">
            <value xsi:type="ocl:BooleanExp" location="441:15-441:20"/>
          </bindings>
          <bindings location="442:4-442:22" propertyName="clipping">
            <value xsi:type="ocl:StringExp" location="442:16-442:22" stringSymbol="none"/>
          </bindings>
        </elements>
        <elements xsi:type="atl:SimpleOutPatternElement" location="444:3-448:4" varName="arrowTailShape" variableExp="/0/@elements.24/@outPattern/@elements.0/@bindings.5/@value">
          <type xsi:type="ocl:OclModelElement" location="444:19-444:33" name="ArrowShape" model="/111"/>
          <bindings location="445:4-445:61" propertyName="name">
            <value xsi:type="ocl:IfExp" location="445:12-445:61">
              <thenExpression xsi:type="ocl:StringExp" location="445:34-445:43" stringSymbol="diamond"/>
              <condition xsi:type="ocl:NavigationOrAttributeCallExp" location="445:15-445:28" name="isContainer">
                <source xsi:type="ocl:VariableExp" location="445:15-445:16" referredVariable="/0/@elements.24/@inPattern/@elements.0"/>
              </condition>
              <elseExpression xsi:type="ocl:StringExp" location="445:49-445:55" stringSymbol="none"/>
            </value>
          </bindings>
          <bindings location="446:4-446:20" propertyName="isPlain">
            <value xsi:type="ocl:BooleanExp" location="446:15-446:20"/>
          </bindings>
          <bindings location="447:4-447:22" propertyName="clipping">
            <value xsi:type="ocl:StringExp" location="447:16-447:22" stringSymbol="none"/>
          </bindings>
        </elements>
      </outPattern>
      <inPattern location="389:2-404:4">
        <elements xsi:type="atl:SimpleInPatternElement" location="390:3-390:19" varName="r" variableExp="/0/@elements.24/@inPattern/@filter/@condition/@source/@source/@source /0/@elements.24/@inPattern/@filter/@thenExpression/@source/@arguments.0/@tuplePart.0/@initExpression /0/@elements.24/@inPattern/@filter/@thenExpression/@source/@arguments.0/@tuplePart.1/@initExpression/@source /0/@elements.24/@inPattern/@filter/@thenExpression/@arguments.0/@arguments.0/@source/@condition/@source/@source /0/@elements.24/@inPattern/@filter/@thenExpression/@arguments.0/@arguments.0/@source/@condition/@arguments.0/@source/@source /0/@elements.24/@outPattern/@elements.0/@bindings.0/@value/@source /0/@elements.24/@outPattern/@elements.0/@bindings.1/@value/@source /0/@elements.24/@outPattern/@elements.0/@bindings.2/@value/@source/@source /0/@elements.24/@outPattern/@elements.0/@bindings.7/@value/@elseExpression/@condition/@arguments.0/@source/@source /0/@elements.24/@outPattern/@elements.0/@bindings.7/@value/@elseExpression/@condition/@arguments.0/@arguments.0/@source/@source /0/@elements.24/@outPattern/@elements.0/@bindings.8/@value/@source/@source/@source /0/@elements.24/@outPattern/@elements.0/@bindings.8/@value/@source/@arguments.0/@source/@source /0/@elements.24/@outPattern/@elements.1/@bindings.0/@value/@source/@source/@source /0/@elements.24/@outPattern/@elements.1/@bindings.0/@value/@source/@arguments.0/@source /0/@elements.24/@outPattern/@elements.1/@bindings.0/@value/@arguments.0/@condition/@source /0/@elements.24/@outPattern/@elements.2/@bindings.0/@value/@source/@source/@source/@source /0/@elements.24/@outPattern/@elements.2/@bindings.0/@value/@source/@arguments.0/@source/@source /0/@elements.24/@outPattern/@elements.2/@bindings.0/@value/@arguments.0/@condition/@source/@source /0/@elements.24/@outPattern/@elements.3/@bindings.0/@value/@condition/@source/@source /0/@elements.24/@outPattern/@elements.4/@bindings.0/@value/@condition/@source">
          <type xsi:type="ocl:OclModelElement" location="390:6-390:19" name="Reference" model="/95"/>
        </elements>
        <filter xsi:type="ocl:IfExp" location="391:4-403:9">
          <thenExpression xsi:type="ocl:OperatorCallExp" location="392:5-400:40" operationName="and">
            <source xsi:type="ocl:CollectionOperationCallExp" location="392:5-393:44" operationName="includes">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="392:5-392:29" name="relationsList">
                <source xsi:type="ocl:VariableExp" location="392:5-392:15" referredVariable="/96"/>
              </source>
              <arguments xsi:type="ocl:TupleExp" location="393:6-393:43">
                <tuplePart location="393:12-393:19" varName="ref">
                  <initExpression xsi:type="ocl:VariableExp" location="393:18-393:19" referredVariable="/0/@elements.24/@inPattern/@elements.0"/>
                </tuplePart>
                <tuplePart location="393:21-393:42" varName="opposite">
                  <initExpression xsi:type="ocl:NavigationOrAttributeCallExp" location="393:32-393:42" name="opposite">
                    <source xsi:type="ocl:VariableExp" location="393:32-393:33" referredVariable="/0/@elements.24/@inPattern/@elements.0"/>
                  </initExpression>
                </tuplePart>
              </arguments>
            </source>
            <arguments xsi:type="ocl:OperatorCallExp" location="394:7-400:39" operationName="or">
              <source xsi:type="ocl:OperationCallExp" location="394:7-394:29" operationName="Invisible">
                <source xsi:type="ocl:VariableExp" location="394:7-394:17" referredVariable="/97"/>
              </source>
              <arguments xsi:type="ocl:OperatorCallExp" location="395:7-400:38" operationName="or">
                <source xsi:type="ocl:IfExp" location="395:7-399:11">
                  <thenExpression xsi:type="ocl:OperationCallExp" location="396:7-396:44" operationName="DiagramMode">
                    <source xsi:type="ocl:VariableExp" location="396:7-396:17" referredVariable="/98"/>
                    <arguments xsi:type="ocl:StringExp" location="396:30-396:43" stringSymbol="Composition"/>
                  </thenExpression>
                  <condition xsi:type="ocl:OperatorCallExp" location="395:10-395:49" operationName="or">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" location="395:10-395:23" name="isContainer">
                      <source xsi:type="ocl:VariableExp" location="395:10-395:11" referredVariable="/0/@elements.24/@inPattern/@elements.0"/>
                    </source>
                    <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="395:27-395:49" name="isContainer">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" location="395:27-395:37" name="opposite">
                        <source xsi:type="ocl:VariableExp" location="395:27-395:28" referredVariable="/0/@elements.24/@inPattern/@elements.0"/>
                      </source>
                    </arguments>
                  </condition>
                  <elseExpression xsi:type="ocl:OperationCallExp" location="398:7-398:42" operationName="DiagramMode">
                    <source xsi:type="ocl:VariableExp" location="398:7-398:17" referredVariable="/99"/>
                    <arguments xsi:type="ocl:StringExp" location="398:30-398:41" stringSymbol="Reference"/>
                  </elseExpression>
                </source>
                <arguments xsi:type="ocl:OperationCallExp" location="400:9-400:38" operationName="DiagramMode">
                  <source xsi:type="ocl:VariableExp" location="400:9-400:19" referredVariable="/100"/>
                  <arguments xsi:type="ocl:StringExp" location="400:32-400:37" stringSymbol="All"/>
                </arguments>
              </arguments>
            </arguments>
          </thenExpression>
          <condition xsi:type="ocl:OperatorCallExp" location="391:7-391:39" operationName="not">
            <source xsi:type="ocl:OperationCallExp" location="391:11-391:38" operationName="oclIsUndefined">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="391:11-391:21" name="opposite">
                <source xsi:type="ocl:VariableExp" location="391:11-391:12" referredVariable="/0/@elements.24/@inPattern/@elements.0"/>
              </source>
            </source>
          </condition>
          <elseExpression xsi:type="ocl:BooleanExp" location="402:5-402:10"/>
        </filter>
      </inPattern>
    </elements>
  </atl:Module>
  <ocl:OclModel location="2:13-2:16" name="DOT" model="/0/@outModels.0"/>
  <ocl:OclModel location="2:26-2:29" name="KM3" model="/0/@inModels.0"/>
  <ocl:VariableDeclaration location="60:9-60:19" varName="thisModule" variableExp="/0/@elements.9/@definition/@feature/@body/@arguments.0/@source"/>
  <ocl:OclModel location="66:16-66:19" name="KM3" elements="/0/@elements.10/@definition/@context_/@context_"/>
  <ocl:VariableDeclaration location="67:2-67:12" varName="thisModule" variableExp="/0/@elements.10/@definition/@feature/@body/@source/@source"/>
  <ocl:VariableDeclaration location="67:32-67:36" varName="self" variableExp="/0/@elements.10/@definition/@feature/@body/@arguments.0/@source"/>
  <ocl:OclModel location="74:16-74:19" name="KM3" elements="/0/@elements.11/@definition/@context_/@context_"/>
  <ocl:VariableDeclaration location="75:8-75:12" varName="self" variableExp="/0/@elements.11/@definition/@feature/@body/@source/@source/@source/@source/@source/@arguments.0/@source"/>
  <ocl:VariableDeclaration location="76:4-76:8" varName="self" variableExp="/0/@elements.11/@definition/@feature/@body/@source/@source/@source/@arguments.0/@source"/>
  <ocl:VariableDeclaration location="77:4-77:8" varName="self" variableExp="/0/@elements.11/@definition/@feature/@body/@source/@arguments.0/@source"/>
  <ocl:OclModel location="84:16-84:19" name="KM3" elements="/0/@elements.12/@definition/@context_/@context_"/>
  <ocl:VariableDeclaration location="85:5-85:9" varName="self" variableExp="/0/@elements.12/@definition/@feature/@body/@condition/@source"/>
  <ocl:VariableDeclaration location="86:9-86:13" varName="self" variableExp="/0/@elements.12/@definition/@feature/@body/@thenExpression/@source/@arguments.0/@source"/>
  <ocl:VariableDeclaration location="88:3-88:7" varName="self" variableExp="/0/@elements.12/@definition/@feature/@body/@elseExpression/@source"/>
  <ocl:OclModel location="96:16-96:19" name="KM3" elements="/0/@elements.13/@definition/@context_/@context_"/>
  <ocl:OclModel location="97:28-97:31" name="KM3" elements="/0/@elements.13/@definition/@feature/@body/@variable/@type/@elementType"/>
  <ocl:VariableDeclaration location="97:45-97:49" varName="self" variableExp="/0/@elements.13/@definition/@feature/@body/@variable/@initExpression/@source/@source"/>
  <ocl:OclModel location="99:17-99:20" name="KM3" elements="/0/@elements.13/@definition/@feature/@body/@variable/@initExpression/@body/@arguments.0"/>
  <ocl:OclModel location="114:16-114:19" name="KM3" elements="/0/@elements.14/@definition/@context_/@context_"/>
  <ocl:OclModel location="115:28-115:31" name="KM3" elements="/0/@elements.14/@definition/@feature/@body/@variable/@type/@elementType"/>
  <ocl:VariableDeclaration location="115:45-115:49" varName="self" variableExp="/0/@elements.14/@definition/@feature/@body/@variable/@initExpression/@source"/>
  <ocl:OclModel location="132:16-132:19" name="KM3" elements="/0/@elements.15/@definition/@context_/@context_"/>
  <ocl:VariableDeclaration location="133:5-133:9" varName="self" variableExp="/0/@elements.15/@definition/@feature/@body/@condition/@source/@source"/>
  <ocl:VariableDeclaration location="134:6-134:10" varName="self" variableExp="/0/@elements.15/@definition/@feature/@body/@thenExpression/@condition/@source/@source"/>
  <ocl:VariableDeclaration location="137:10-137:14" varName="self" variableExp="/0/@elements.15/@definition/@feature/@body/@thenExpression/@elseExpression/@source/@source/@source/@arguments.0/@source/@source"/>
  <ocl:VariableDeclaration location="137:40-137:44" varName="self" variableExp="/0/@elements.15/@definition/@feature/@body/@thenExpression/@elseExpression/@source/@arguments.0/@source/@source"/>
  <ocl:VariableDeclaration location="140:6-140:10" varName="self" variableExp="/0/@elements.15/@definition/@feature/@body/@elseExpression/@condition/@source/@source"/>
  <ocl:VariableDeclaration location="143:7-143:11" varName="self" variableExp="/0/@elements.15/@definition/@feature/@body/@elseExpression/@elseExpression/@condition/@source/@source"/>
  <ocl:VariableDeclaration location="144:11-144:15" varName="self" variableExp="/0/@elements.15/@definition/@feature/@body/@elseExpression/@elseExpression/@thenExpression/@source/@source/@arguments.0/@source/@source"/>
  <ocl:VariableDeclaration location="146:11-146:15" varName="self" variableExp="/0/@elements.15/@definition/@feature/@body/@elseExpression/@elseExpression/@elseExpression/@source/@source/@arguments.0/@source/@source"/>
  <ocl:VariableDeclaration location="146:35-146:39" varName="self" variableExp="/0/@elements.15/@definition/@feature/@body/@elseExpression/@elseExpression/@elseExpression/@source/@arguments.0/@source/@source"/>
  <ocl:OclModel location="156:16-156:19" name="KM3" elements="/0/@elements.16/@definition/@context_/@context_"/>
  <ocl:OclModel location="157:28-157:31" name="KM3" elements="/0/@elements.16/@definition/@feature/@body/@variable/@type/@elementType"/>
  <ocl:VariableDeclaration location="157:45-157:49" varName="self" variableExp="/0/@elements.16/@definition/@feature/@body/@variable/@initExpression/@source"/>
  <ocl:OclModel location="175:17-175:20" name="KM3" elements="/0/@elements.17/@definition/@feature/@type/@elementType/@attributes.0/@type"/>
  <ocl:OclModel location="175:43-175:46" name="KM3" elements="/0/@elements.17/@definition/@feature/@type/@elementType/@attributes.1/@type"/>
  <ocl:OclModel location="176:27-176:30" name="KM3" elements="/0/@elements.17/@definition/@feature/@initExpression/@variable/@type/@elementType"/>
  <ocl:OclModel location="176:44-176:47" name="KM3" elements="/0/@elements.17/@definition/@feature/@initExpression/@variable/@initExpression/@source/@source"/>
  <ocl:OclModel location="180:32-180:35" name="KM3" elements="/0/@elements.17/@definition/@feature/@initExpression/@in_/@result/@type/@elementType/@attributes.0/@type"/>
  <ocl:OclModel location="180:57-180:60" name="KM3" elements="/0/@elements.17/@definition/@feature/@initExpression/@in_/@result/@type/@elementType/@attributes.1/@type"/>
  <ocl:OclModel location="204:6-204:9" name="KM3" elements="/0/@elements.18/@inPattern/@elements.0/@type"/>
  <ocl:OclModel location="206:8-206:11" name="DOT" elements="/0/@elements.18/@outPattern/@elements.0/@type"/>
  <ocl:VariableDeclaration location="209:15-209:25" varName="thisModule" variableExp="/0/@elements.18/@outPattern/@elements.0/@bindings.2/@value/@source"/>
  <ocl:VariableDeclaration location="210:17-210:27" varName="thisModule" variableExp="/0/@elements.18/@outPattern/@elements.0/@bindings.3/@value/@source"/>
  <ocl:VariableDeclaration location="211:16-211:26" varName="thisModule" variableExp="/0/@elements.18/@outPattern/@elements.0/@bindings.4/@value/@source"/>
  <ocl:VariableDeclaration location="213:19-213:29" varName="thisModule" variableExp="/0/@elements.18/@outPattern/@elements.0/@bindings.6/@value/@source/@source"/>
  <ocl:VariableDeclaration location="214:8-214:18" varName="thisModule" variableExp="/0/@elements.18/@outPattern/@elements.0/@bindings.6/@value/@arguments.0/@source/@source"/>
  <ocl:VariableDeclaration location="215:22-215:32" varName="thisModule" variableExp="/0/@elements.18/@outPattern/@elements.0/@bindings.7/@value/@source"/>
  <ocl:OclModel location="227:6-227:9" name="KM3" elements="/0/@elements.19/@inPattern/@elements.0/@type"/>
  <ocl:OclModel location="229:8-229:11" name="DOT" elements="/0/@elements.19/@outPattern/@elements.0/@type"/>
  <ocl:VariableDeclaration location="233:16-233:26" varName="thisModule" variableExp="/0/@elements.19/@outPattern/@elements.0/@bindings.3/@value/@source"/>
  <ocl:OclModel location="236:18-236:21" name="DOT" elements="/0/@elements.19/@outPattern/@elements.1/@type"/>
  <ocl:OclModel location="245:6-245:9" name="KM3" elements="/0/@elements.20/@inPattern/@elements.0/@type"/>
  <ocl:OclModel location="247:8-247:11" name="DOT" elements="/0/@elements.20/@outPattern/@elements.0/@type"/>
  <ocl:OclModel location="251:14-251:17" name="DOT" elements="/0/@elements.20/@outPattern/@elements.1/@type"/>
  <ocl:OclModel location="255:14-255:17" name="DOT" elements="/0/@elements.20/@outPattern/@elements.2/@type"/>
  <ocl:OclModel location="265:6-265:9" name="KM3" elements="/0/@elements.21/@inPattern/@elements.0/@type"/>
  <ocl:VariableDeclaration location="267:5-267:15" varName="thisModule" variableExp="/0/@elements.21/@inPattern/@filter/@arguments.0/@source/@source"/>
  <ocl:VariableDeclaration location="268:5-268:15" varName="thisModule" variableExp="/0/@elements.21/@inPattern/@filter/@arguments.0/@arguments.0/@source/@source"/>
  <ocl:VariableDeclaration location="269:4-269:14" varName="thisModule" variableExp="/0/@elements.21/@inPattern/@filter/@arguments.0/@arguments.0/@arguments.0/@source"/>
  <ocl:OclModel location="272:8-272:11" name="DOT" elements="/0/@elements.21/@outPattern/@elements.0/@type"/>
  <ocl:OclModel location="276:20-276:23" name="KM3" elements="/0/@elements.21/@outPattern/@elements.0/@bindings.2/@value/@source/@elements.0/@body/@arguments.0"/>
  <ocl:OclModel location="278:14-278:17" name="DOT" elements="/0/@elements.21/@outPattern/@elements.1/@type"/>
  <ocl:OclModel location="282:15-282:18" name="DOT" elements="/0/@elements.21/@outPattern/@elements.2/@type"/>
  <ocl:OclModel location="285:30-285:33" name="DOT" elements="/0/@elements.21/@outPattern/@elements.3/@type"/>
  <ocl:VariableDeclaration location="287:19-287:29" varName="thisModule" variableExp="/0/@elements.21/@outPattern/@elements.3/@bindings.0/@value/@source/@source/@source"/>
  <ocl:VariableDeclaration location="288:5-288:15" varName="thisModule" variableExp="/0/@elements.21/@outPattern/@elements.3/@bindings.0/@value/@arguments.0/@source/@source"/>
  <ocl:VariableDeclaration location="289:16-289:26" varName="thisModule" variableExp="/0/@elements.21/@outPattern/@elements.3/@bindings.1/@value/@condition/@source/@source"/>
  <ocl:VariableDeclaration location="290:4-290:14" varName="thisModule" variableExp="/0/@elements.21/@outPattern/@elements.3/@bindings.1/@value/@condition/@arguments.0/@source"/>
  <ocl:VariableDeclaration location="294:14-294:24" varName="thisModule" variableExp="/0/@elements.21/@outPattern/@elements.3/@bindings.5/@value/@source"/>
  <ocl:OclModel location="297:28-297:31" name="DOT" elements="/0/@elements.21/@outPattern/@elements.4/@type"/>
  <ocl:OclModel location="310:6-310:9" name="KM3" elements="/0/@elements.22/@inPattern/@elements.0/@type"/>
  <ocl:VariableDeclaration location="313:5-313:15" varName="thisModule" variableExp="/0/@elements.22/@inPattern/@filter/@arguments.0/@arguments.0/@source/@source"/>
  <ocl:VariableDeclaration location="314:8-314:18" varName="thisModule" variableExp="/0/@elements.22/@inPattern/@filter/@arguments.0/@arguments.0/@arguments.0/@source/@source/@source"/>
  <ocl:VariableDeclaration location="315:4-315:14" varName="thisModule" variableExp="/0/@elements.22/@inPattern/@filter/@arguments.0/@arguments.0/@arguments.0/@source/@arguments.0/@source"/>
  <ocl:OclModel location="318:8-318:11" name="DOT" elements="/0/@elements.22/@outPattern/@elements.0/@type"/>
  <ocl:OclModel location="322:20-322:23" name="KM3" elements="/0/@elements.22/@outPattern/@elements.0/@bindings.2/@value/@elements.0/@body/@arguments.0"/>
  <ocl:OclModel location="324:14-324:17" name="DOT" elements="/0/@elements.22/@outPattern/@elements.1/@type"/>
  <ocl:OclModel location="328:15-328:18" name="DOT" elements="/0/@elements.22/@outPattern/@elements.2/@type"/>
  <ocl:OclModel location="339:6-339:9" name="KM3" elements="/0/@elements.23/@inPattern/@elements.0/@type"/>
  <ocl:VariableDeclaration location="341:5-341:15" varName="thisModule" variableExp="/0/@elements.23/@inPattern/@filter/@arguments.0/@source/@source"/>
  <ocl:VariableDeclaration location="343:5-343:15" varName="thisModule" variableExp="/0/@elements.23/@inPattern/@filter/@arguments.0/@arguments.0/@source/@thenExpression/@source"/>
  <ocl:VariableDeclaration location="344:9-344:19" varName="thisModule" variableExp="/0/@elements.23/@inPattern/@filter/@arguments.0/@arguments.0/@source/@elseExpression/@source"/>
  <ocl:VariableDeclaration location="346:4-346:14" varName="thisModule" variableExp="/0/@elements.23/@inPattern/@filter/@arguments.0/@arguments.0/@arguments.0/@source"/>
  <ocl:OclModel location="349:8-349:11" name="DOT" elements="/0/@elements.23/@outPattern/@elements.0/@type"/>
  <ocl:VariableDeclaration location="355:16-355:26" varName="thisModule" variableExp="/0/@elements.23/@outPattern/@elements.0/@bindings.5/@value/@condition/@source/@source"/>
  <ocl:VariableDeclaration location="356:4-356:14" varName="thisModule" variableExp="/0/@elements.23/@outPattern/@elements.0/@bindings.5/@value/@condition/@arguments.0/@source"/>
  <ocl:VariableDeclaration location="357:8-357:18" varName="thisModule" variableExp="/0/@elements.23/@outPattern/@elements.0/@bindings.5/@value/@elseExpression/@condition/@source/@source"/>
  <ocl:VariableDeclaration location="360:14-360:24" varName="thisModule" variableExp="/0/@elements.23/@outPattern/@elements.0/@bindings.6/@value/@source"/>
  <ocl:VariableDeclaration location="363:10-363:20" varName="thisModule" variableExp="/0/@elements.23/@outPattern/@elements.0/@bindings.8/@value/@arguments.0/@source/@source/@source"/>
  <ocl:VariableDeclaration location="364:5-364:15" varName="thisModule" variableExp="/0/@elements.23/@outPattern/@elements.0/@bindings.8/@value/@arguments.0/@arguments.0/@source/@source"/>
  <ocl:OclModel location="366:18-366:21" name="DOT" elements="/0/@elements.23/@outPattern/@elements.1/@type"/>
  <ocl:OclModel location="373:19-373:22" name="DOT" elements="/0/@elements.23/@outPattern/@elements.2/@type"/>
  <ocl:OclModel location="378:19-378:22" name="DOT" elements="/0/@elements.23/@outPattern/@elements.3/@type"/>
  <ocl:OclModel location="390:6-390:9" name="KM3" elements="/0/@elements.24/@inPattern/@elements.0/@type"/>
  <ocl:VariableDeclaration location="392:5-392:15" varName="thisModule" variableExp="/0/@elements.24/@inPattern/@filter/@thenExpression/@source/@source/@source"/>
  <ocl:VariableDeclaration location="394:7-394:17" varName="thisModule" variableExp="/0/@elements.24/@inPattern/@filter/@thenExpression/@arguments.0/@source/@source"/>
  <ocl:VariableDeclaration location="396:7-396:17" varName="thisModule" variableExp="/0/@elements.24/@inPattern/@filter/@thenExpression/@arguments.0/@arguments.0/@source/@thenExpression/@source"/>
  <ocl:VariableDeclaration location="398:7-398:17" varName="thisModule" variableExp="/0/@elements.24/@inPattern/@filter/@thenExpression/@arguments.0/@arguments.0/@source/@elseExpression/@source"/>
  <ocl:VariableDeclaration location="400:9-400:19" varName="thisModule" variableExp="/0/@elements.24/@inPattern/@filter/@thenExpression/@arguments.0/@arguments.0/@arguments.0/@source"/>
  <ocl:OclModel location="406:8-406:11" name="DOT" elements="/0/@elements.24/@outPattern/@elements.0/@type"/>
  <ocl:VariableDeclaration location="410:14-410:24" varName="thisModule" variableExp="/0/@elements.24/@outPattern/@elements.0/@bindings.3/@value/@source"/>
  <ocl:VariableDeclaration location="414:16-414:26" varName="thisModule" variableExp="/0/@elements.24/@outPattern/@elements.0/@bindings.7/@value/@condition/@source/@source"/>
  <ocl:VariableDeclaration location="415:4-415:14" varName="thisModule" variableExp="/0/@elements.24/@outPattern/@elements.0/@bindings.7/@value/@condition/@arguments.0/@source"/>
  <ocl:VariableDeclaration location="416:8-416:18" varName="thisModule" variableExp="/0/@elements.24/@outPattern/@elements.0/@bindings.7/@value/@elseExpression/@condition/@source/@source"/>
  <ocl:VariableDeclaration location="420:6-420:16" varName="thisModule" variableExp="/0/@elements.24/@outPattern/@elements.0/@bindings.8/@value/@arguments.0/@source/@source/@source"/>
  <ocl:VariableDeclaration location="421:5-421:15" varName="thisModule" variableExp="/0/@elements.24/@outPattern/@elements.0/@bindings.8/@value/@arguments.0/@arguments.0/@source/@source"/>
  <ocl:OclModel location="424:18-424:21" name="DOT" elements="/0/@elements.24/@outPattern/@elements.1/@type"/>
  <ocl:OclModel location="431:18-431:21" name="DOT" elements="/0/@elements.24/@outPattern/@elements.2/@type"/>
  <ocl:OclModel location="439:19-439:22" name="DOT" elements="/0/@elements.24/@outPattern/@elements.3/@type"/>
  <ocl:OclModel location="444:19-444:22" name="DOT" elements="/0/@elements.24/@outPattern/@elements.4/@type"/>
</xmi:XMI>
