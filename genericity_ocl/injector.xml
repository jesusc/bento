<!--
	Auto-generated ant script that injects a <file>.gocl into <file>.gocl.xmi
	It may be used in different ways:
		- As an example to write your own ant scripts that do further processing
		(e.g., ATL transformations, extractions).
		- Called from another script
		- From the "AM3 Resource Navigator" view, and if the corresponding megamodel
		(megamodel.xmi) has been registered (via right-click action "Add megamodel"):
		by right-click action "Inject genericity_ocl File to genericity_ocl Model" on files
		with extension "gocl".
	
	Note that property "MUri" is initialized by AM3 when invoked as a right-click injection
	action. In any other case (e.g., calling the ant script, copy-paste-modify), property
	"MUri" has to be defined explicitely.
-->
<project name="genericity_oclInjector" default="injection">
	<property name="MUri" value="/genericity_ocl/Samples/Test1.gocl"/>

	<target name="injection">
		<!-- Loading genericity_ocl metamodel -->
		<am3.loadModel modelHandler="EMF" name="genericity_ocl" metamodel="MOF" path="/genericity_ocl/Metamodel/genericity_ocl.ecore"/>

		<!-- Loading genericity_ocl model -->
		<am3.loadModel modelHandler="EMF" name="mygenericity_ocl" metamodel="genericity_ocl" path="${MUri}">
			<injector name="ebnf">
				<param name="name" value="genericity_ocl"/>
				<param name="parserGenerator" value="antlr3"/>
				<classpath>
					<pathelement location="Syntax/genericity_ocl-parser.jar"/>
				</classpath>
			</injector>
		</am3.loadModel>

		<!-- Saving genericity_ocl model -->
		<am3.saveModel model="mygenericity_ocl" path="${MUri}.xmi"/>
	</target>

</project>
